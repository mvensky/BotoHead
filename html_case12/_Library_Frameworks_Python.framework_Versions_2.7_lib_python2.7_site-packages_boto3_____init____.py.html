source file: <b>/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/boto3/__init__.py</b><br>


file stats: <b>29 lines, 18 executed: 62.1% covered</b>
<pre>
<font color="black">   1. # Copyright 2014 Amazon.com, Inc. or its affiliates. All Rights Reserved.</font>
<font color="black">   2. #</font>
<font color="black">   3. # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;). You</font>
<font color="black">   4. # may not use this file except in compliance with the License. A copy of</font>
<font color="black">   5. # the License is located at</font>
<font color="black">   6. #</font>
<font color="black">   7. # http://aws.amazon.com/apache2.0/</font>
<font color="black">   8. #</font>
<font color="black">   9. # or in the &quot;license&quot; file accompanying this file. This file is</font>
<font color="black">  10. # distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF</font>
<font color="black">  11. # ANY KIND, either express or implied. See the License for the specific</font>
<font color="black">  12. # language governing permissions and limitations under the License.</font>
<font color="black">  13. </font>
<font color="green">  14. import logging</font>
<font color="black">  15. </font>
<font color="green">  16. from boto3.session import Session</font>
<font color="black">  17. </font>
<font color="black">  18. </font>
<font color="green">  19. __author__ = 'Amazon Web Services'</font>
<font color="green">  20. __version__ = '1.7.15'</font>
<font color="black">  21. </font>
<font color="black">  22. </font>
<font color="black">  23. # The default Boto3 session; autoloaded when needed.</font>
<font color="green">  24. DEFAULT_SESSION = None</font>
<font color="black">  25. </font>
<font color="black">  26. </font>
<font color="green">  27. def setup_default_session(**kwargs):</font>
<font color="black">  28.     &quot;&quot;&quot;</font>
<font color="black">  29.     Set up a default session, passing through any parameters to the session</font>
<font color="black">  30.     constructor. There is no need to call this unless you wish to pass custom</font>
<font color="black">  31.     parameters, because a default session will be created for you.</font>
<font color="black">  32.     &quot;&quot;&quot;</font>
<font color="black">  33.     global DEFAULT_SESSION</font>
<font color="green">  34.     DEFAULT_SESSION = Session(**kwargs)</font>
<font color="black">  35. </font>
<font color="black">  36. </font>
<font color="green">  37. def set_stream_logger(name='boto3', level=logging.DEBUG, format_string=None):</font>
<font color="black">  38.     &quot;&quot;&quot;</font>
<font color="black">  39.     Add a stream handler for the given name and level to the logging module.</font>
<font color="black">  40.     By default, this logs all boto3 messages to ``stdout``.</font>
<font color="black">  41. </font>
<font color="black">  42.         &gt;&gt;&gt; import boto3</font>
<font color="black">  43.         &gt;&gt;&gt; boto3.set_stream_logger('boto3.resources', logging.INFO)</font>
<font color="black">  44. </font>
<font color="black">  45.     :type name: string</font>
<font color="black">  46.     :param name: Log name</font>
<font color="black">  47.     :type level: int</font>
<font color="black">  48.     :param level: Logging level, e.g. ``logging.INFO``</font>
<font color="black">  49.     :type format_string: str</font>
<font color="black">  50.     :param format_string: Log message format</font>
<font color="black">  51.     &quot;&quot;&quot;</font>
<font color="red">  52.     if format_string is None:</font>
<font color="red">  53.         format_string = &quot;%(asctime)s %(name)s [%(levelname)s] %(message)s&quot;</font>
<font color="black">  54. </font>
<font color="red">  55.     logger = logging.getLogger(name)</font>
<font color="red">  56.     logger.setLevel(level)</font>
<font color="red">  57.     handler = logging.StreamHandler()</font>
<font color="red">  58.     handler.setLevel(level)</font>
<font color="red">  59.     formatter = logging.Formatter(format_string)</font>
<font color="red">  60.     handler.setFormatter(formatter)</font>
<font color="red">  61.     logger.addHandler(handler)</font>
<font color="black">  62. </font>
<font color="black">  63. </font>
<font color="green">  64. def _get_default_session():</font>
<font color="black">  65.     &quot;&quot;&quot;</font>
<font color="black">  66.     Get the default session, creating one if needed.</font>
<font color="black">  67. </font>
<font color="black">  68.     :rtype: :py:class:`~boto3.session.Session`</font>
<font color="black">  69.     :return: The default session</font>
<font color="black">  70.     &quot;&quot;&quot;</font>
<font color="green">  71.     if DEFAULT_SESSION is None:</font>
<font color="green">  72.         setup_default_session()</font>
<font color="black">  73. </font>
<font color="green">  74.     return DEFAULT_SESSION</font>
<font color="black">  75. </font>
<font color="black">  76. </font>
<font color="green">  77. def client(*args, **kwargs):</font>
<font color="black">  78.     &quot;&quot;&quot;</font>
<font color="black">  79.     Create a low-level service client by name using the default session.</font>
<font color="black">  80. </font>
<font color="black">  81.     See :py:meth:`boto3.session.Session.client`.</font>
<font color="black">  82.     &quot;&quot;&quot;</font>
<font color="green">  83.     return _get_default_session().client(*args, **kwargs)</font>
<font color="black">  84. </font>
<font color="black">  85. </font>
<font color="green">  86. def resource(*args, **kwargs):</font>
<font color="black">  87.     &quot;&quot;&quot;</font>
<font color="black">  88.     Create a resource service client by name using the default session.</font>
<font color="black">  89. </font>
<font color="black">  90.     See :py:meth:`boto3.session.Session.resource`.</font>
<font color="black">  91.     &quot;&quot;&quot;</font>
<font color="red">  92.     return _get_default_session().resource(*args, **kwargs)</font>
<font color="black">  93. </font>
<font color="black">  94. </font>
<font color="black">  95. # Set up logging to ``/dev/null`` like a library is supposed to.</font>
<font color="black">  96. # http://docs.python.org/3.3/howto/logging.html#configuring-logging-for-a-library</font>
<font color="green">  97. class NullHandler(logging.Handler):</font>
<font color="green">  98.     def emit(self, record):</font>
<font color="red">  99.         pass</font>
<font color="black"> 100. </font>
<font color="black"> 101. </font>
<font color="green"> 102. logging.getLogger('boto3').addHandler(NullHandler())</font>
</pre>

