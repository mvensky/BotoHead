source file: <b>/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/jmespath/exceptions.py</b><br>


file stats: <b>85 lines, 32 executed: 37.6% covered</b>
<pre>
<font color="green">   1. from jmespath.compat import with_str_method</font>
<font color="black">   2. </font>
<font color="black">   3. </font>
<font color="green">   4. class JMESPathError(ValueError):</font>
<font color="green">   5.     pass</font>
<font color="black">   6. </font>
<font color="black">   7. </font>
<font color="green">   8. @with_str_method</font>
<font color="green">   9. class ParseError(JMESPathError):</font>
<font color="green">  10.     _ERROR_MESSAGE = 'Invalid jmespath expression'</font>
<font color="black">  11.     def __init__(self, lex_position, token_value, token_type,</font>
<font color="green">  12.                  msg=_ERROR_MESSAGE):</font>
<font color="red">  13.         super(ParseError, self).__init__(lex_position, token_value, token_type)</font>
<font color="red">  14.         self.lex_position = lex_position</font>
<font color="red">  15.         self.token_value = token_value</font>
<font color="red">  16.         self.token_type = token_type.upper()</font>
<font color="red">  17.         self.msg = msg</font>
<font color="black">  18.         # Whatever catches the ParseError can fill in the full expression</font>
<font color="red">  19.         self.expression = None</font>
<font color="black">  20. </font>
<font color="green">  21.     def __str__(self):</font>
<font color="black">  22.         # self.lex_position +1 to account for the starting double quote char.</font>
<font color="red">  23.         underline = ' ' * (self.lex_position + 1) + '^'</font>
<font color="black">  24.         return (</font>
<font color="red">  25.             '%s: Parse error at column %s, '</font>
<font color="black">  26.             'token &quot;%s&quot; (%s), for expression:\n&quot;%s&quot;\n%s' % (</font>
<font color="red">  27.                 self.msg, self.lex_position, self.token_value, self.token_type,</font>
<font color="red">  28.                 self.expression, underline))</font>
<font color="black">  29. </font>
<font color="black">  30. </font>
<font color="green">  31. @with_str_method</font>
<font color="green">  32. class IncompleteExpressionError(ParseError):</font>
<font color="green">  33.     def set_expression(self, expression):</font>
<font color="red">  34.         self.expression = expression</font>
<font color="red">  35.         self.lex_position = len(expression)</font>
<font color="red">  36.         self.token_type = None</font>
<font color="red">  37.         self.token_value = None</font>
<font color="black">  38. </font>
<font color="green">  39.     def __str__(self):</font>
<font color="black">  40.         # self.lex_position +1 to account for the starting double quote char.</font>
<font color="red">  41.         underline = ' ' * (self.lex_position + 1) + '^'</font>
<font color="black">  42.         return (</font>
<font color="red">  43.             'Invalid jmespath expression: Incomplete expression:\n'</font>
<font color="red">  44.             '&quot;%s&quot;\n%s' % (self.expression, underline))</font>
<font color="black">  45. </font>
<font color="black">  46. </font>
<font color="green">  47. @with_str_method</font>
<font color="green">  48. class LexerError(ParseError):</font>
<font color="green">  49.     def __init__(self, lexer_position, lexer_value, message, expression=None):</font>
<font color="red">  50.         self.lexer_position = lexer_position</font>
<font color="red">  51.         self.lexer_value = lexer_value</font>
<font color="red">  52.         self.message = message</font>
<font color="red">  53.         super(LexerError, self).__init__(lexer_position,</font>
<font color="red">  54.                                          lexer_value,</font>
<font color="red">  55.                                          message)</font>
<font color="black">  56.         # Whatever catches LexerError can set this.</font>
<font color="red">  57.         self.expression = expression</font>
<font color="black">  58. </font>
<font color="green">  59.     def __str__(self):</font>
<font color="red">  60.         underline = ' ' * self.lexer_position + '^'</font>
<font color="red">  61.         return 'Bad jmespath expression: %s:\n%s\n%s' % (</font>
<font color="red">  62.             self.message, self.expression, underline)</font>
<font color="black">  63. </font>
<font color="black">  64. </font>
<font color="green">  65. @with_str_method</font>
<font color="green">  66. class ArityError(ParseError):</font>
<font color="green">  67.     def __init__(self, expected, actual, name):</font>
<font color="red">  68.         self.expected_arity = expected</font>
<font color="red">  69.         self.actual_arity = actual</font>
<font color="red">  70.         self.function_name = name</font>
<font color="red">  71.         self.expression = None</font>
<font color="black">  72. </font>
<font color="green">  73.     def __str__(self):</font>
<font color="red">  74.         return (&quot;Expected %s %s for function %s(), &quot;</font>
<font color="black">  75.                 &quot;received %s&quot; % (</font>
<font color="red">  76.                     self.expected_arity,</font>
<font color="red">  77.                     self._pluralize('argument', self.expected_arity),</font>
<font color="red">  78.                     self.function_name,</font>
<font color="red">  79.                     self.actual_arity))</font>
<font color="black">  80. </font>
<font color="green">  81.     def _pluralize(self, word, count):</font>
<font color="red">  82.         if count == 1:</font>
<font color="red">  83.             return word</font>
<font color="black">  84.         else:</font>
<font color="red">  85.             return word + 's'</font>
<font color="black">  86. </font>
<font color="black">  87. </font>
<font color="green">  88. @with_str_method</font>
<font color="green">  89. class VariadictArityError(ArityError):</font>
<font color="green">  90.     def __str__(self):</font>
<font color="red">  91.         return (&quot;Expected at least %s %s for function %s(), &quot;</font>
<font color="black">  92.                 &quot;received %s&quot; % (</font>
<font color="red">  93.                     self.expected_arity,</font>
<font color="red">  94.                     self._pluralize('argument', self.expected_arity),</font>
<font color="red">  95.                     self.function_name,</font>
<font color="red">  96.                     self.actual_arity))</font>
<font color="black">  97. </font>
<font color="black">  98. </font>
<font color="green">  99. @with_str_method</font>
<font color="green"> 100. class JMESPathTypeError(JMESPathError):</font>
<font color="green"> 101.     def __init__(self, function_name, current_value, actual_type,</font>
<font color="black"> 102.                  expected_types):</font>
<font color="red"> 103.         self.function_name = function_name</font>
<font color="red"> 104.         self.current_value = current_value</font>
<font color="red"> 105.         self.actual_type = actual_type</font>
<font color="red"> 106.         self.expected_types = expected_types</font>
<font color="black"> 107. </font>
<font color="green"> 108.     def __str__(self):</font>
<font color="red"> 109.         return ('In function %s(), invalid type for value: %s, '</font>
<font color="black"> 110.                 'expected one of: %s, received: &quot;%s&quot;' % (</font>
<font color="red"> 111.                     self.function_name, self.current_value,</font>
<font color="red"> 112.                     self.expected_types, self.actual_type))</font>
<font color="black"> 113. </font>
<font color="black"> 114. </font>
<font color="green"> 115. class EmptyExpressionError(JMESPathError):</font>
<font color="green"> 116.     def __init__(self):</font>
<font color="red"> 117.         super(EmptyExpressionError, self).__init__(</font>
<font color="red"> 118.             &quot;Invalid JMESPath expression: cannot be empty.&quot;)</font>
<font color="black"> 119. </font>
<font color="black"> 120. </font>
<font color="green"> 121. class UnknownFunctionError(JMESPathError):</font>
<font color="green"> 122.     pass</font>
</pre>

