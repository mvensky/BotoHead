source file: <b>/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/boto3/docs/__init__.py</b><br>


file stats: <b>12 lines, 3 executed: 25.0% covered</b>
<pre>
<font color="black">   1. # Copyright 2015 Amazon.com, Inc. or its affiliates. All Rights Reserved.</font>
<font color="black">   2. #</font>
<font color="black">   3. # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;). You</font>
<font color="black">   4. # may not use this file except in compliance with the License. A copy of</font>
<font color="black">   5. # the License is located at</font>
<font color="black">   6. #</font>
<font color="black">   7. # http://aws.amazon.com/apache2.0/</font>
<font color="black">   8. #</font>
<font color="black">   9. # or in the &quot;license&quot; file accompanying this file. This file is</font>
<font color="black">  10. # distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF</font>
<font color="black">  11. # ANY KIND, either express or implied. See the License for the specific</font>
<font color="black">  12. # language governing permissions and limitations under the License.</font>
<font color="green">  13. import os</font>
<font color="black">  14. </font>
<font color="green">  15. from boto3.docs.service import ServiceDocumenter</font>
<font color="black">  16. </font>
<font color="black">  17. </font>
<font color="green">  18. def generate_docs(root_dir, session):</font>
<font color="black">  19.     &quot;&quot;&quot;Generates the reference documentation for botocore</font>
<font color="black">  20. </font>
<font color="black">  21.     This will go through every available AWS service and output ReSTructured</font>
<font color="black">  22.     text files documenting each service.</font>
<font color="black">  23. </font>
<font color="black">  24.     :param root_dir: The directory to write the reference files to. Each</font>
<font color="black">  25.         service's reference documentation is loacated at</font>
<font color="black">  26.         root_dir/reference/services/service-name.rst</font>
<font color="black">  27. </font>
<font color="black">  28.     :param session: The boto3 session</font>
<font color="black">  29.     &quot;&quot;&quot;</font>
<font color="red">  30.     services_doc_path = os.path.join(root_dir, 'reference', 'services')</font>
<font color="red">  31.     if not os.path.exists(services_doc_path):</font>
<font color="red">  32.         os.makedirs(services_doc_path)</font>
<font color="black">  33. </font>
<font color="red">  34.     for service_name in session.get_available_services():</font>
<font color="red">  35.         docs = ServiceDocumenter(service_name, session).document_service()</font>
<font color="red">  36.         service_doc_path = os.path.join(</font>
<font color="red">  37.             services_doc_path, service_name + '.rst')</font>
<font color="red">  38.         with open(service_doc_path, 'wb') as f:</font>
<font color="red">  39.             f.write(docs)</font>
</pre>

