source file: <b>/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/simplejson/compat.py</b><br>


file stats: <b>35 lines, 16 executed: 45.7% covered</b>
<pre>
<font color="black">   1. &quot;&quot;&quot;Python 3 compatibility shims</font>
<font color="green">   2. &quot;&quot;&quot;</font>
<font color="green">   3. import sys</font>
<font color="green">   4. if sys.version_info[0] &lt; 3:</font>
<font color="green">   5.     PY3 = False</font>
<font color="green">   6.     def b(s):</font>
<font color="red">   7.         return s</font>
<font color="green">   8.     def u(s):</font>
<font color="green">   9.         return unicode(s, 'unicode_escape')</font>
<font color="green">  10.     import cStringIO as StringIO</font>
<font color="green">  11.     StringIO = BytesIO = StringIO.StringIO</font>
<font color="green">  12.     text_type = unicode</font>
<font color="green">  13.     binary_type = str</font>
<font color="green">  14.     string_types = (basestring,)</font>
<font color="green">  15.     integer_types = (int, long)</font>
<font color="green">  16.     unichr = unichr</font>
<font color="green">  17.     reload_module = reload</font>
<font color="black">  18. else:</font>
<font color="red">  19.     PY3 = True</font>
<font color="red">  20.     if sys.version_info[:2] &gt;= (3, 4):</font>
<font color="red">  21.         from importlib import reload as reload_module</font>
<font color="black">  22.     else:</font>
<font color="red">  23.         from imp import reload as reload_module</font>
<font color="red">  24.     import codecs</font>
<font color="red">  25.     def b(s):</font>
<font color="red">  26.         return codecs.latin_1_encode(s)[0]</font>
<font color="red">  27.     def u(s):</font>
<font color="red">  28.         return s</font>
<font color="red">  29.     import io</font>
<font color="red">  30.     StringIO = io.StringIO</font>
<font color="red">  31.     BytesIO = io.BytesIO</font>
<font color="red">  32.     text_type = str</font>
<font color="red">  33.     binary_type = bytes</font>
<font color="red">  34.     string_types = (str,)</font>
<font color="red">  35.     integer_types = (int,)</font>
<font color="black">  36. </font>
<font color="red">  37.     def unichr(s):</font>
<font color="red">  38.         return u(chr(s))</font>
<font color="black">  39. </font>
<font color="green">  40. long_type = integer_types[-1]</font>
</pre>

