source file: <b>/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/botocore/vendored/requests/compat.py</b><br>


file stats: <b>35 lines, 21 executed: 60.0% covered</b>
<pre>
<font color="black">   1. # -*- coding: utf-8 -*-</font>
<font color="black">   2. </font>
<font color="black">   3. &quot;&quot;&quot;</font>
<font color="black">   4. pythoncompat</font>
<font color="green">   5. &quot;&quot;&quot;</font>
<font color="black">   6. </font>
<font color="green">   7. from .packages import chardet</font>
<font color="black">   8. </font>
<font color="green">   9. import sys</font>
<font color="black">  10. </font>
<font color="black">  11. # -------</font>
<font color="black">  12. # Pythons</font>
<font color="black">  13. # -------</font>
<font color="black">  14. </font>
<font color="black">  15. # Syntax sugar.</font>
<font color="green">  16. _ver = sys.version_info</font>
<font color="black">  17. </font>
<font color="black">  18. #: Python 2.x?</font>
<font color="green">  19. is_py2 = (_ver[0] == 2)</font>
<font color="black">  20. </font>
<font color="black">  21. #: Python 3.x?</font>
<font color="green">  22. is_py3 = (_ver[0] == 3)</font>
<font color="black">  23. </font>
<font color="green">  24. try:</font>
<font color="green">  25.     import simplejson as json</font>
<font color="red">  26. except (ImportError, SyntaxError):</font>
<font color="black">  27.     # simplejson does not support Python 3.2, it throws a SyntaxError</font>
<font color="black">  28.     # because of u'...' Unicode literals.</font>
<font color="red">  29.     import json</font>
<font color="black">  30. </font>
<font color="black">  31. # ---------</font>
<font color="black">  32. # Specifics</font>
<font color="black">  33. # ---------</font>
<font color="black">  34. </font>
<font color="green">  35. if is_py2:</font>
<font color="green">  36.     from urllib import quote, unquote, quote_plus, unquote_plus, urlencode, getproxies, proxy_bypass</font>
<font color="green">  37.     from urlparse import urlparse, urlunparse, urljoin, urlsplit, urldefrag</font>
<font color="green">  38.     from urllib2 import parse_http_list</font>
<font color="green">  39.     import cookielib</font>
<font color="green">  40.     from Cookie import Morsel</font>
<font color="green">  41.     from StringIO import StringIO</font>
<font color="green">  42.     from .packages.urllib3.packages.ordered_dict import OrderedDict</font>
<font color="black">  43. </font>
<font color="green">  44.     builtin_str = str</font>
<font color="green">  45.     bytes = str</font>
<font color="green">  46.     str = unicode</font>
<font color="green">  47.     basestring = basestring</font>
<font color="green">  48.     numeric_types = (int, long, float)</font>
<font color="black">  49. </font>
<font color="red">  50. elif is_py3:</font>
<font color="red">  51.     from urllib.parse import urlparse, urlunparse, urljoin, urlsplit, urlencode, quote, unquote, quote_plus, unquote_plus, urldefrag</font>
<font color="red">  52.     from urllib.request import parse_http_list, getproxies, proxy_bypass</font>
<font color="red">  53.     from http import cookiejar as cookielib</font>
<font color="red">  54.     from http.cookies import Morsel</font>
<font color="red">  55.     from io import StringIO</font>
<font color="red">  56.     from collections import OrderedDict</font>
<font color="black">  57. </font>
<font color="red">  58.     builtin_str = str</font>
<font color="red">  59.     str = str</font>
<font color="red">  60.     bytes = bytes</font>
<font color="red">  61.     basestring = (str, bytes)</font>
<font color="red">  62.     numeric_types = (int, float)</font>
</pre>

