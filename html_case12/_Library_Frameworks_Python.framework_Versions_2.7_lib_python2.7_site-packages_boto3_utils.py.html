source file: <b>/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/boto3/utils.py</b><br>


file stats: <b>35 lines, 27 executed: 77.1% covered</b>
<pre>
<font color="black">   1. # Copyright 2015 Amazon.com, Inc. or its affiliates. All Rights Reserved.</font>
<font color="black">   2. #</font>
<font color="black">   3. # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;). You</font>
<font color="black">   4. # may not use this file except in compliance with the License. A copy of</font>
<font color="black">   5. # the License is located at</font>
<font color="black">   6. #</font>
<font color="black">   7. # http://aws.amazon.com/apache2.0/</font>
<font color="black">   8. #</font>
<font color="black">   9. # or in the &quot;license&quot; file accompanying this file. This file is</font>
<font color="black">  10. # distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF</font>
<font color="black">  11. # ANY KIND, either express or implied. See the License for the specific</font>
<font color="black">  12. # language governing permissions and limitations under the License.</font>
<font color="green">  13. import sys</font>
<font color="green">  14. from collections import namedtuple</font>
<font color="black">  15. </font>
<font color="black">  16. </font>
<font color="green">  17. _ServiceContext = namedtuple(</font>
<font color="green">  18.     'ServiceContext',</font>
<font color="green">  19.     ['service_name', 'service_model', 'service_waiter_model',</font>
<font color="green">  20.      'resource_json_definitions']</font>
<font color="black">  21. )</font>
<font color="black">  22. </font>
<font color="black">  23. </font>
<font color="green">  24. class ServiceContext(_ServiceContext):</font>
<font color="black">  25.     &quot;&quot;&quot;Provides important service-wide, read-only information about a service</font>
<font color="black">  26. </font>
<font color="black">  27.     :type service_name: str</font>
<font color="black">  28.     :param service_name: The name of the service</font>
<font color="black">  29. </font>
<font color="black">  30.     :type service_model: :py:class:`botocore.model.ServiceModel`</font>
<font color="black">  31.     :param service_model: The model of the service.</font>
<font color="black">  32. </font>
<font color="black">  33.     :type service_waiter_model: :py:class:`botocore.waiter.WaiterModel` or</font>
<font color="black">  34.         a waiter model-like object such as</font>
<font color="black">  35.         :py:class:`boto3.utils.LazyLoadedWaiterModel`</font>
<font color="black">  36.     :param service_waiter_model: The waiter model of the service.</font>
<font color="black">  37. </font>
<font color="black">  38.     :type resource_json_definitions: dict</font>
<font color="black">  39.     :param resource_json_definitions: The loaded json models of all resource</font>
<font color="black">  40.         shapes for a service. It is equivalient of loading a</font>
<font color="black">  41.         ``resource-1.json`` and retrieving the value at the key &quot;resources&quot;.</font>
<font color="green">  42.     &quot;&quot;&quot;</font>
<font color="green">  43.     pass</font>
<font color="black">  44. </font>
<font color="black">  45. </font>
<font color="green">  46. def import_module(name):</font>
<font color="black">  47.     &quot;&quot;&quot;Import module given a name.</font>
<font color="black">  48. </font>
<font color="black">  49.     Does not support relative imports.</font>
<font color="black">  50. </font>
<font color="black">  51.     &quot;&quot;&quot;</font>
<font color="green">  52.     __import__(name)</font>
<font color="green">  53.     return sys.modules[name]</font>
<font color="black">  54. </font>
<font color="black">  55. </font>
<font color="green">  56. def lazy_call(full_name, **kwargs):</font>
<font color="green">  57.     parent_kwargs = kwargs</font>
<font color="black">  58. </font>
<font color="green">  59.     def _handler(**kwargs):</font>
<font color="green">  60.         module, function_name = full_name.rsplit('.', 1)</font>
<font color="green">  61.         module = import_module(module)</font>
<font color="green">  62.         kwargs.update(parent_kwargs)</font>
<font color="green">  63.         return getattr(module, function_name)(**kwargs)</font>
<font color="black">  64. </font>
<font color="green">  65.     return _handler</font>
<font color="black">  66. </font>
<font color="black">  67. </font>
<font color="green">  68. def inject_attribute(class_attributes, name, value):</font>
<font color="green">  69.     if name in class_attributes:</font>
<font color="red">  70.         raise RuntimeError(</font>
<font color="red">  71.             'Cannot inject class attribute &quot;%s&quot;, attribute '</font>
<font color="red">  72.             'already exists in class dict.' % name)</font>
<font color="black">  73.     else:</font>
<font color="green">  74.         class_attributes[name] = value</font>
<font color="black">  75. </font>
<font color="black">  76. </font>
<font color="green">  77. class LazyLoadedWaiterModel(object):</font>
<font color="black">  78.     &quot;&quot;&quot;A lazily loaded waiter model</font>
<font color="black">  79. </font>
<font color="black">  80.     This does not load the service waiter model until an attempt is made</font>
<font color="black">  81.     to retrieve the waiter model for a specific waiter. This is helpful</font>
<font color="black">  82.     in docstring generation where we do not need to actually need to grab</font>
<font color="black">  83.     the waiter-2.json until it is accessed through a ``get_waiter`` call</font>
<font color="black">  84.     when the docstring is generated/accessed.</font>
<font color="green">  85.     &quot;&quot;&quot;</font>
<font color="green">  86.     def __init__(self, bc_session, service_name, api_version):</font>
<font color="red">  87.         self._session = bc_session</font>
<font color="red">  88.         self._service_name = service_name</font>
<font color="red">  89.         self._api_version = api_version</font>
<font color="black">  90. </font>
<font color="green">  91.     def get_waiter(self, waiter_name):</font>
<font color="red">  92.         return self._session.get_waiter_model(</font>
<font color="red">  93.             self._service_name, self._api_version).get_waiter(waiter_name)</font>
</pre>

