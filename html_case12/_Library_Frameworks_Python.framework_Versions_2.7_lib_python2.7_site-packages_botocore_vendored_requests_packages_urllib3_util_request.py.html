source file: <b>/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/botocore/vendored/requests/packages/urllib3/util/request.py</b><br>


file stats: <b>26 lines, 5 executed: 19.2% covered</b>
<pre>
<font color="green">   1. from base64 import b64encode</font>
<font color="black">   2. </font>
<font color="green">   3. from ..packages.six import b</font>
<font color="black">   4. </font>
<font color="green">   5. ACCEPT_ENCODING = 'gzip,deflate'</font>
<font color="black">   6. </font>
<font color="black">   7. </font>
<font color="green">   8. def make_headers(keep_alive=None, accept_encoding=None, user_agent=None,</font>
<font color="green">   9.                  basic_auth=None, proxy_basic_auth=None, disable_cache=None):</font>
<font color="black">  10.     &quot;&quot;&quot;</font>
<font color="black">  11.     Shortcuts for generating request headers.</font>
<font color="black">  12. </font>
<font color="black">  13.     :param keep_alive:</font>
<font color="black">  14.         If ``True``, adds 'connection: keep-alive' header.</font>
<font color="black">  15. </font>
<font color="black">  16.     :param accept_encoding:</font>
<font color="black">  17.         Can be a boolean, list, or string.</font>
<font color="black">  18.         ``True`` translates to 'gzip,deflate'.</font>
<font color="black">  19.         List will get joined by comma.</font>
<font color="black">  20.         String will be used as provided.</font>
<font color="black">  21. </font>
<font color="black">  22.     :param user_agent:</font>
<font color="black">  23.         String representing the user-agent you want, such as</font>
<font color="black">  24.         &quot;python-urllib3/0.6&quot;</font>
<font color="black">  25. </font>
<font color="black">  26.     :param basic_auth:</font>
<font color="black">  27.         Colon-separated username:password string for 'authorization: basic ...'</font>
<font color="black">  28.         auth header.</font>
<font color="black">  29. </font>
<font color="black">  30.     :param proxy_basic_auth:</font>
<font color="black">  31.         Colon-separated username:password string for 'proxy-authorization: basic ...'</font>
<font color="black">  32.         auth header.</font>
<font color="black">  33. </font>
<font color="black">  34.     :param disable_cache:</font>
<font color="black">  35.         If ``True``, adds 'cache-control: no-cache' header.</font>
<font color="black">  36. </font>
<font color="black">  37.     Example::</font>
<font color="black">  38. </font>
<font color="black">  39.         &gt;&gt;&gt; make_headers(keep_alive=True, user_agent=&quot;Batman/1.0&quot;)</font>
<font color="black">  40.         {'connection': 'keep-alive', 'user-agent': 'Batman/1.0'}</font>
<font color="black">  41.         &gt;&gt;&gt; make_headers(accept_encoding=True)</font>
<font color="black">  42.         {'accept-encoding': 'gzip,deflate'}</font>
<font color="black">  43.     &quot;&quot;&quot;</font>
<font color="red">  44.     headers = {}</font>
<font color="red">  45.     if accept_encoding:</font>
<font color="red">  46.         if isinstance(accept_encoding, str):</font>
<font color="red">  47.             pass</font>
<font color="red">  48.         elif isinstance(accept_encoding, list):</font>
<font color="red">  49.             accept_encoding = ','.join(accept_encoding)</font>
<font color="black">  50.         else:</font>
<font color="red">  51.             accept_encoding = ACCEPT_ENCODING</font>
<font color="red">  52.         headers['accept-encoding'] = accept_encoding</font>
<font color="black">  53. </font>
<font color="red">  54.     if user_agent:</font>
<font color="red">  55.         headers['user-agent'] = user_agent</font>
<font color="black">  56. </font>
<font color="red">  57.     if keep_alive:</font>
<font color="red">  58.         headers['connection'] = 'keep-alive'</font>
<font color="black">  59. </font>
<font color="red">  60.     if basic_auth:</font>
<font color="red">  61.         headers['authorization'] = 'Basic ' + \</font>
<font color="red">  62.             b64encode(b(basic_auth)).decode('utf-8')</font>
<font color="black">  63. </font>
<font color="red">  64.     if proxy_basic_auth:</font>
<font color="red">  65.         headers['proxy-authorization'] = 'Basic ' + \</font>
<font color="red">  66.             b64encode(b(proxy_basic_auth)).decode('utf-8')</font>
<font color="black">  67. </font>
<font color="red">  68.     if disable_cache:</font>
<font color="red">  69.         headers['cache-control'] = 'no-cache'</font>
<font color="black">  70. </font>
<font color="red">  71.     return headers</font>
</pre>

