source file: <b>/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/boto3/docs/method.py</b><br>


file stats: <b>43 lines, 6 executed: 14.0% covered</b>
<pre>
<font color="black">   1. # Copyright 2015 Amazon.com, Inc. or its affiliates. All Rights Reserved.</font>
<font color="black">   2. #</font>
<font color="black">   3. # Licensed under the Apache License, Version 2.0 (the &quot;License&quot;). You</font>
<font color="black">   4. # may not use this file except in compliance with the License. A copy of</font>
<font color="black">   5. # the License is located at</font>
<font color="black">   6. #</font>
<font color="black">   7. # http://aws.amazon.com/apache2.0/</font>
<font color="black">   8. #</font>
<font color="black">   9. # or in the &quot;license&quot; file accompanying this file. This file is</font>
<font color="black">  10. # distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF</font>
<font color="black">  11. # ANY KIND, either express or implied. See the License for the specific</font>
<font color="black">  12. # language governing permissions and limitations under the License.</font>
<font color="green">  13. from botocore.docs.method import document_model_driven_method</font>
<font color="black">  14. </font>
<font color="black">  15. </font>
<font color="black">  16. def document_model_driven_resource_method(</font>
<font color="black">  17.         section, method_name, operation_model, event_emitter,</font>
<font color="green">  18.         method_description=None, example_prefix=None, include_input=None,</font>
<font color="green">  19.         include_output=None, exclude_input=None, exclude_output=None,</font>
<font color="green">  20.         document_output=True, resource_action_model=None,</font>
<font color="green">  21.         include_signature=True):</font>
<font color="black">  22. </font>
<font color="red">  23.     document_model_driven_method(</font>
<font color="red">  24.         section=section, method_name=method_name,</font>
<font color="red">  25.         operation_model=operation_model,</font>
<font color="red">  26.         event_emitter=event_emitter,</font>
<font color="red">  27.         method_description=method_description,</font>
<font color="red">  28.         example_prefix=example_prefix,</font>
<font color="red">  29.         include_input=include_input,</font>
<font color="red">  30.         include_output=include_output,</font>
<font color="red">  31.         exclude_input=exclude_input,</font>
<font color="red">  32.         exclude_output=exclude_output,</font>
<font color="red">  33.         document_output=document_output,</font>
<font color="red">  34.         include_signature=include_signature</font>
<font color="black">  35.     )</font>
<font color="black">  36. </font>
<font color="black">  37.     # If this action returns a resource modify the return example to</font>
<font color="black">  38.     # appropriately reflect that.</font>
<font color="red">  39.     if resource_action_model.resource:</font>
<font color="red">  40.         if 'return' in section.available_sections:</font>
<font color="red">  41.             section.delete_section('return')</font>
<font color="red">  42.         resource_type = resource_action_model.resource.type</font>
<font color="black">  43. </font>
<font color="red">  44.         new_return_section = section.add_new_section('return')</font>
<font color="red">  45.         return_resource_type = '%s.%s' % (</font>
<font color="red">  46.             operation_model.service_model.service_name,</font>
<font color="red">  47.             resource_type)</font>
<font color="black">  48. </font>
<font color="red">  49.         return_type = ':py:class:`%s`' % return_resource_type</font>
<font color="red">  50.         return_description = '%s resource' % (resource_type)</font>
<font color="black">  51. </font>
<font color="red">  52.         if _method_returns_resource_list(resource_action_model.resource):</font>
<font color="red">  53.             return_type = 'list(%s)' % return_type</font>
<font color="red">  54.             return_description = 'A list of %s resources' % (</font>
<font color="red">  55.                 resource_type)</font>
<font color="black">  56. </font>
<font color="red">  57.         new_return_section.style.new_line()</font>
<font color="red">  58.         new_return_section.write(</font>
<font color="red">  59.             ':rtype: %s' % return_type)</font>
<font color="red">  60.         new_return_section.style.new_line()</font>
<font color="red">  61.         new_return_section.write(</font>
<font color="red">  62.             ':returns: %s' % return_description)</font>
<font color="red">  63.         new_return_section.style.new_line()</font>
<font color="black">  64. </font>
<font color="black">  65. </font>
<font color="green">  66. def _method_returns_resource_list(resource):</font>
<font color="red">  67.     for identifier in resource.identifiers:</font>
<font color="red">  68.         if identifier.path and '[]' in identifier.path:</font>
<font color="red">  69.             return True</font>
<font color="black">  70. </font>
<font color="red">  71.     return False</font>
</pre>

