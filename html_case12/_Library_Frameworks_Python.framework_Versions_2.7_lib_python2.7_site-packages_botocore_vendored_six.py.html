source file: <b>/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/botocore/vendored/six.py</b><br>


file stats: <b>594 lines, 370 executed: 62.3% covered</b>
<pre>
<font color="green">   1. &quot;&quot;&quot;Utilities for writing code that runs on Python 2 and 3&quot;&quot;&quot;</font>
<font color="black">   2. </font>
<font color="black">   3. # Copyright (c) 2010-2015 Benjamin Peterson</font>
<font color="black">   4. #</font>
<font color="black">   5. # Permission is hereby granted, free of charge, to any person obtaining a copy</font>
<font color="black">   6. # of this software and associated documentation files (the &quot;Software&quot;), to deal</font>
<font color="black">   7. # in the Software without restriction, including without limitation the rights</font>
<font color="black">   8. # to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</font>
<font color="black">   9. # copies of the Software, and to permit persons to whom the Software is</font>
<font color="black">  10. # furnished to do so, subject to the following conditions:</font>
<font color="black">  11. #</font>
<font color="black">  12. # The above copyright notice and this permission notice shall be included in all</font>
<font color="black">  13. # copies or substantial portions of the Software.</font>
<font color="black">  14. #</font>
<font color="black">  15. # THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</font>
<font color="black">  16. # IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</font>
<font color="black">  17. # FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</font>
<font color="black">  18. # AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</font>
<font color="black">  19. # LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</font>
<font color="black">  20. # OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</font>
<font color="black">  21. # SOFTWARE.</font>
<font color="black">  22. </font>
<font color="green">  23. from __future__ import absolute_import</font>
<font color="black">  24. </font>
<font color="green">  25. import functools</font>
<font color="green">  26. import itertools</font>
<font color="green">  27. import operator</font>
<font color="green">  28. import sys</font>
<font color="green">  29. import types</font>
<font color="black">  30. </font>
<font color="green">  31. __author__ = &quot;Benjamin Peterson &lt;benjamin@python.org&gt;&quot;</font>
<font color="green">  32. __version__ = &quot;1.10.0&quot;</font>
<font color="black">  33. </font>
<font color="black">  34. </font>
<font color="black">  35. # Useful for very coarse version differentiation.</font>
<font color="green">  36. PY2 = sys.version_info[0] == 2</font>
<font color="green">  37. PY3 = sys.version_info[0] == 3</font>
<font color="green">  38. PY34 = sys.version_info[0:2] &gt;= (3, 4)</font>
<font color="black">  39. </font>
<font color="green">  40. if PY3:</font>
<font color="red">  41.     string_types = str,</font>
<font color="red">  42.     integer_types = int,</font>
<font color="red">  43.     class_types = type,</font>
<font color="red">  44.     text_type = str</font>
<font color="red">  45.     binary_type = bytes</font>
<font color="black">  46. </font>
<font color="red">  47.     MAXSIZE = sys.maxsize</font>
<font color="black">  48. else:</font>
<font color="green">  49.     string_types = basestring,</font>
<font color="green">  50.     integer_types = (int, long)</font>
<font color="green">  51.     class_types = (type, types.ClassType)</font>
<font color="green">  52.     text_type = unicode</font>
<font color="green">  53.     binary_type = str</font>
<font color="black">  54. </font>
<font color="green">  55.     if sys.platform.startswith(&quot;java&quot;):</font>
<font color="black">  56.         # Jython always uses 32 bits.</font>
<font color="red">  57.         MAXSIZE = int((1 &lt;&lt; 31) - 1)</font>
<font color="black">  58.     else:</font>
<font color="black">  59.         # It's possible to have sizeof(long) != sizeof(Py_ssize_t).</font>
<font color="green">  60.         class X(object):</font>
<font color="black">  61. </font>
<font color="green">  62.             def __len__(self):</font>
<font color="green">  63.                 return 1 &lt;&lt; 31</font>
<font color="green">  64.         try:</font>
<font color="green">  65.             len(X())</font>
<font color="red">  66.         except OverflowError:</font>
<font color="black">  67.             # 32-bit</font>
<font color="red">  68.             MAXSIZE = int((1 &lt;&lt; 31) - 1)</font>
<font color="black">  69.         else:</font>
<font color="black">  70.             # 64-bit</font>
<font color="green">  71.             MAXSIZE = int((1 &lt;&lt; 63) - 1)</font>
<font color="green">  72.         del X</font>
<font color="black">  73. </font>
<font color="black">  74. </font>
<font color="green">  75. def _add_doc(func, doc):</font>
<font color="black">  76.     &quot;&quot;&quot;Add documentation to a function.&quot;&quot;&quot;</font>
<font color="green">  77.     func.__doc__ = doc</font>
<font color="black">  78. </font>
<font color="black">  79. </font>
<font color="green">  80. def _import_module(name):</font>
<font color="black">  81.     &quot;&quot;&quot;Import module, returning the module after the last dot.&quot;&quot;&quot;</font>
<font color="green">  82.     __import__(name)</font>
<font color="green">  83.     return sys.modules[name]</font>
<font color="black">  84. </font>
<font color="black">  85. </font>
<font color="green">  86. class _LazyDescr(object):</font>
<font color="black">  87. </font>
<font color="green">  88.     def __init__(self, name):</font>
<font color="green">  89.         self.name = name</font>
<font color="black">  90. </font>
<font color="green">  91.     def __get__(self, obj, tp):</font>
<font color="green">  92.         result = self._resolve()</font>
<font color="green">  93.         setattr(obj, self.name, result)  # Invokes __set__.</font>
<font color="green">  94.         try:</font>
<font color="black">  95.             # This is a bit ugly, but it avoids running this again by</font>
<font color="black">  96.             # removing this descriptor.</font>
<font color="green">  97.             delattr(obj.__class__, self.name)</font>
<font color="red">  98.         except AttributeError:</font>
<font color="red">  99.             pass</font>
<font color="green"> 100.         return result</font>
<font color="black"> 101. </font>
<font color="black"> 102. </font>
<font color="green"> 103. class MovedModule(_LazyDescr):</font>
<font color="black"> 104. </font>
<font color="green"> 105.     def __init__(self, name, old, new=None):</font>
<font color="green"> 106.         super(MovedModule, self).__init__(name)</font>
<font color="green"> 107.         if PY3:</font>
<font color="red"> 108.             if new is None:</font>
<font color="red"> 109.                 new = name</font>
<font color="red"> 110.             self.mod = new</font>
<font color="black"> 111.         else:</font>
<font color="green"> 112.             self.mod = old</font>
<font color="black"> 113. </font>
<font color="green"> 114.     def _resolve(self):</font>
<font color="green"> 115.         return _import_module(self.mod)</font>
<font color="black"> 116. </font>
<font color="green"> 117.     def __getattr__(self, attr):</font>
<font color="red"> 118.         _module = self._resolve()</font>
<font color="red"> 119.         value = getattr(_module, attr)</font>
<font color="red"> 120.         setattr(self, attr, value)</font>
<font color="red"> 121.         return value</font>
<font color="black"> 122. </font>
<font color="black"> 123. </font>
<font color="green"> 124. class _LazyModule(types.ModuleType):</font>
<font color="black"> 125. </font>
<font color="green"> 126.     def __init__(self, name):</font>
<font color="green"> 127.         super(_LazyModule, self).__init__(name)</font>
<font color="green"> 128.         self.__doc__ = self.__class__.__doc__</font>
<font color="black"> 129. </font>
<font color="green"> 130.     def __dir__(self):</font>
<font color="red"> 131.         attrs = [&quot;__doc__&quot;, &quot;__name__&quot;]</font>
<font color="red"> 132.         attrs += [attr.name for attr in self._moved_attributes]</font>
<font color="red"> 133.         return attrs</font>
<font color="black"> 134. </font>
<font color="black"> 135.     # Subclasses should override this</font>
<font color="green"> 136.     _moved_attributes = []</font>
<font color="black"> 137. </font>
<font color="black"> 138. </font>
<font color="green"> 139. class MovedAttribute(_LazyDescr):</font>
<font color="black"> 140. </font>
<font color="green"> 141.     def __init__(self, name, old_mod, new_mod, old_attr=None, new_attr=None):</font>
<font color="green"> 142.         super(MovedAttribute, self).__init__(name)</font>
<font color="green"> 143.         if PY3:</font>
<font color="red"> 144.             if new_mod is None:</font>
<font color="red"> 145.                 new_mod = name</font>
<font color="red"> 146.             self.mod = new_mod</font>
<font color="red"> 147.             if new_attr is None:</font>
<font color="red"> 148.                 if old_attr is None:</font>
<font color="red"> 149.                     new_attr = name</font>
<font color="black"> 150.                 else:</font>
<font color="red"> 151.                     new_attr = old_attr</font>
<font color="red"> 152.             self.attr = new_attr</font>
<font color="black"> 153.         else:</font>
<font color="green"> 154.             self.mod = old_mod</font>
<font color="green"> 155.             if old_attr is None:</font>
<font color="green"> 156.                 old_attr = name</font>
<font color="green"> 157.             self.attr = old_attr</font>
<font color="black"> 158. </font>
<font color="green"> 159.     def _resolve(self):</font>
<font color="red"> 160.         module = _import_module(self.mod)</font>
<font color="red"> 161.         return getattr(module, self.attr)</font>
<font color="black"> 162. </font>
<font color="black"> 163. </font>
<font color="green"> 164. class _SixMetaPathImporter(object):</font>
<font color="black"> 165. </font>
<font color="black"> 166.     &quot;&quot;&quot;</font>
<font color="black"> 167.     A meta path importer to import six.moves and its submodules.</font>
<font color="black"> 168. </font>
<font color="black"> 169.     This class implements a PEP302 finder and loader. It should be compatible</font>
<font color="black"> 170.     with Python 2.5 and all existing versions of Python3</font>
<font color="green"> 171.     &quot;&quot;&quot;</font>
<font color="black"> 172. </font>
<font color="green"> 173.     def __init__(self, six_module_name):</font>
<font color="green"> 174.         self.name = six_module_name</font>
<font color="green"> 175.         self.known_modules = {}</font>
<font color="black"> 176. </font>
<font color="green"> 177.     def _add_module(self, mod, *fullnames):</font>
<font color="green"> 178.         for fullname in fullnames:</font>
<font color="green"> 179.             self.known_modules[self.name + &quot;.&quot; + fullname] = mod</font>
<font color="black"> 180. </font>
<font color="green"> 181.     def _get_module(self, fullname):</font>
<font color="green"> 182.         return self.known_modules[self.name + &quot;.&quot; + fullname]</font>
<font color="black"> 183. </font>
<font color="green"> 184.     def find_module(self, fullname, path=None):</font>
<font color="green"> 185.         if fullname in self.known_modules:</font>
<font color="red"> 186.             return self</font>
<font color="green"> 187.         return None</font>
<font color="black"> 188. </font>
<font color="green"> 189.     def __get_module(self, fullname):</font>
<font color="red"> 190.         try:</font>
<font color="red"> 191.             return self.known_modules[fullname]</font>
<font color="red"> 192.         except KeyError:</font>
<font color="red"> 193.             raise ImportError(&quot;This loader does not know module &quot; + fullname)</font>
<font color="black"> 194. </font>
<font color="green"> 195.     def load_module(self, fullname):</font>
<font color="red"> 196.         try:</font>
<font color="black"> 197.             # in case of a reload</font>
<font color="red"> 198.             return sys.modules[fullname]</font>
<font color="red"> 199.         except KeyError:</font>
<font color="red"> 200.             pass</font>
<font color="red"> 201.         mod = self.__get_module(fullname)</font>
<font color="red"> 202.         if isinstance(mod, MovedModule):</font>
<font color="red"> 203.             mod = mod._resolve()</font>
<font color="black"> 204.         else:</font>
<font color="red"> 205.             mod.__loader__ = self</font>
<font color="red"> 206.         sys.modules[fullname] = mod</font>
<font color="red"> 207.         return mod</font>
<font color="black"> 208. </font>
<font color="green"> 209.     def is_package(self, fullname):</font>
<font color="black"> 210.         &quot;&quot;&quot;</font>
<font color="black"> 211.         Return true, if the named module is a package.</font>
<font color="black"> 212. </font>
<font color="black"> 213.         We need this method to get correct spec objects with</font>
<font color="black"> 214.         Python 3.4 (see PEP451)</font>
<font color="black"> 215.         &quot;&quot;&quot;</font>
<font color="red"> 216.         return hasattr(self.__get_module(fullname), &quot;__path__&quot;)</font>
<font color="black"> 217. </font>
<font color="green"> 218.     def get_code(self, fullname):</font>
<font color="black"> 219.         &quot;&quot;&quot;Return None</font>
<font color="black"> 220. </font>
<font color="black"> 221.         Required, if is_package is implemented&quot;&quot;&quot;</font>
<font color="red"> 222.         self.__get_module(fullname)  # eventually raises ImportError</font>
<font color="red"> 223.         return None</font>
<font color="green"> 224.     get_source = get_code  # same as get_code</font>
<font color="black"> 225. </font>
<font color="green"> 226. _importer = _SixMetaPathImporter(__name__)</font>
<font color="black"> 227. </font>
<font color="black"> 228. </font>
<font color="green"> 229. class _MovedItems(_LazyModule):</font>
<font color="black"> 230. </font>
<font color="green"> 231.     &quot;&quot;&quot;Lazy loading of moved objects&quot;&quot;&quot;</font>
<font color="green"> 232.     __path__ = []  # mark as package</font>
<font color="black"> 233. </font>
<font color="black"> 234. </font>
<font color="black"> 235. _moved_attributes = [</font>
<font color="green"> 236.     MovedAttribute(&quot;cStringIO&quot;, &quot;cStringIO&quot;, &quot;io&quot;, &quot;StringIO&quot;),</font>
<font color="green"> 237.     MovedAttribute(&quot;filter&quot;, &quot;itertools&quot;, &quot;builtins&quot;, &quot;ifilter&quot;, &quot;filter&quot;),</font>
<font color="green"> 238.     MovedAttribute(&quot;filterfalse&quot;, &quot;itertools&quot;, &quot;itertools&quot;, &quot;ifilterfalse&quot;, &quot;filterfalse&quot;),</font>
<font color="green"> 239.     MovedAttribute(&quot;input&quot;, &quot;__builtin__&quot;, &quot;builtins&quot;, &quot;raw_input&quot;, &quot;input&quot;),</font>
<font color="green"> 240.     MovedAttribute(&quot;intern&quot;, &quot;__builtin__&quot;, &quot;sys&quot;),</font>
<font color="green"> 241.     MovedAttribute(&quot;map&quot;, &quot;itertools&quot;, &quot;builtins&quot;, &quot;imap&quot;, &quot;map&quot;),</font>
<font color="green"> 242.     MovedAttribute(&quot;getcwd&quot;, &quot;os&quot;, &quot;os&quot;, &quot;getcwdu&quot;, &quot;getcwd&quot;),</font>
<font color="green"> 243.     MovedAttribute(&quot;getcwdb&quot;, &quot;os&quot;, &quot;os&quot;, &quot;getcwd&quot;, &quot;getcwdb&quot;),</font>
<font color="green"> 244.     MovedAttribute(&quot;range&quot;, &quot;__builtin__&quot;, &quot;builtins&quot;, &quot;xrange&quot;, &quot;range&quot;),</font>
<font color="green"> 245.     MovedAttribute(&quot;reload_module&quot;, &quot;__builtin__&quot;, &quot;importlib&quot; if PY34 else &quot;imp&quot;, &quot;reload&quot;),</font>
<font color="green"> 246.     MovedAttribute(&quot;reduce&quot;, &quot;__builtin__&quot;, &quot;functools&quot;),</font>
<font color="green"> 247.     MovedAttribute(&quot;shlex_quote&quot;, &quot;pipes&quot;, &quot;shlex&quot;, &quot;quote&quot;),</font>
<font color="green"> 248.     MovedAttribute(&quot;StringIO&quot;, &quot;StringIO&quot;, &quot;io&quot;),</font>
<font color="green"> 249.     MovedAttribute(&quot;UserDict&quot;, &quot;UserDict&quot;, &quot;collections&quot;),</font>
<font color="green"> 250.     MovedAttribute(&quot;UserList&quot;, &quot;UserList&quot;, &quot;collections&quot;),</font>
<font color="green"> 251.     MovedAttribute(&quot;UserString&quot;, &quot;UserString&quot;, &quot;collections&quot;),</font>
<font color="green"> 252.     MovedAttribute(&quot;xrange&quot;, &quot;__builtin__&quot;, &quot;builtins&quot;, &quot;xrange&quot;, &quot;range&quot;),</font>
<font color="green"> 253.     MovedAttribute(&quot;zip&quot;, &quot;itertools&quot;, &quot;builtins&quot;, &quot;izip&quot;, &quot;zip&quot;),</font>
<font color="green"> 254.     MovedAttribute(&quot;zip_longest&quot;, &quot;itertools&quot;, &quot;itertools&quot;, &quot;izip_longest&quot;, &quot;zip_longest&quot;),</font>
<font color="green"> 255.     MovedModule(&quot;builtins&quot;, &quot;__builtin__&quot;),</font>
<font color="green"> 256.     MovedModule(&quot;configparser&quot;, &quot;ConfigParser&quot;),</font>
<font color="green"> 257.     MovedModule(&quot;copyreg&quot;, &quot;copy_reg&quot;),</font>
<font color="green"> 258.     MovedModule(&quot;dbm_gnu&quot;, &quot;gdbm&quot;, &quot;dbm.gnu&quot;),</font>
<font color="green"> 259.     MovedModule(&quot;_dummy_thread&quot;, &quot;dummy_thread&quot;, &quot;_dummy_thread&quot;),</font>
<font color="green"> 260.     MovedModule(&quot;http_cookiejar&quot;, &quot;cookielib&quot;, &quot;http.cookiejar&quot;),</font>
<font color="green"> 261.     MovedModule(&quot;http_cookies&quot;, &quot;Cookie&quot;, &quot;http.cookies&quot;),</font>
<font color="green"> 262.     MovedModule(&quot;html_entities&quot;, &quot;htmlentitydefs&quot;, &quot;html.entities&quot;),</font>
<font color="green"> 263.     MovedModule(&quot;html_parser&quot;, &quot;HTMLParser&quot;, &quot;html.parser&quot;),</font>
<font color="green"> 264.     MovedModule(&quot;http_client&quot;, &quot;httplib&quot;, &quot;http.client&quot;),</font>
<font color="green"> 265.     MovedModule(&quot;email_mime_multipart&quot;, &quot;email.MIMEMultipart&quot;, &quot;email.mime.multipart&quot;),</font>
<font color="green"> 266.     MovedModule(&quot;email_mime_nonmultipart&quot;, &quot;email.MIMENonMultipart&quot;, &quot;email.mime.nonmultipart&quot;),</font>
<font color="green"> 267.     MovedModule(&quot;email_mime_text&quot;, &quot;email.MIMEText&quot;, &quot;email.mime.text&quot;),</font>
<font color="green"> 268.     MovedModule(&quot;email_mime_base&quot;, &quot;email.MIMEBase&quot;, &quot;email.mime.base&quot;),</font>
<font color="green"> 269.     MovedModule(&quot;BaseHTTPServer&quot;, &quot;BaseHTTPServer&quot;, &quot;http.server&quot;),</font>
<font color="green"> 270.     MovedModule(&quot;CGIHTTPServer&quot;, &quot;CGIHTTPServer&quot;, &quot;http.server&quot;),</font>
<font color="green"> 271.     MovedModule(&quot;SimpleHTTPServer&quot;, &quot;SimpleHTTPServer&quot;, &quot;http.server&quot;),</font>
<font color="green"> 272.     MovedModule(&quot;cPickle&quot;, &quot;cPickle&quot;, &quot;pickle&quot;),</font>
<font color="green"> 273.     MovedModule(&quot;queue&quot;, &quot;Queue&quot;),</font>
<font color="green"> 274.     MovedModule(&quot;reprlib&quot;, &quot;repr&quot;),</font>
<font color="green"> 275.     MovedModule(&quot;socketserver&quot;, &quot;SocketServer&quot;),</font>
<font color="green"> 276.     MovedModule(&quot;_thread&quot;, &quot;thread&quot;, &quot;_thread&quot;),</font>
<font color="green"> 277.     MovedModule(&quot;tkinter&quot;, &quot;Tkinter&quot;),</font>
<font color="green"> 278.     MovedModule(&quot;tkinter_dialog&quot;, &quot;Dialog&quot;, &quot;tkinter.dialog&quot;),</font>
<font color="green"> 279.     MovedModule(&quot;tkinter_filedialog&quot;, &quot;FileDialog&quot;, &quot;tkinter.filedialog&quot;),</font>
<font color="green"> 280.     MovedModule(&quot;tkinter_scrolledtext&quot;, &quot;ScrolledText&quot;, &quot;tkinter.scrolledtext&quot;),</font>
<font color="green"> 281.     MovedModule(&quot;tkinter_simpledialog&quot;, &quot;SimpleDialog&quot;, &quot;tkinter.simpledialog&quot;),</font>
<font color="green"> 282.     MovedModule(&quot;tkinter_tix&quot;, &quot;Tix&quot;, &quot;tkinter.tix&quot;),</font>
<font color="green"> 283.     MovedModule(&quot;tkinter_ttk&quot;, &quot;ttk&quot;, &quot;tkinter.ttk&quot;),</font>
<font color="green"> 284.     MovedModule(&quot;tkinter_constants&quot;, &quot;Tkconstants&quot;, &quot;tkinter.constants&quot;),</font>
<font color="green"> 285.     MovedModule(&quot;tkinter_dnd&quot;, &quot;Tkdnd&quot;, &quot;tkinter.dnd&quot;),</font>
<font color="green"> 286.     MovedModule(&quot;tkinter_colorchooser&quot;, &quot;tkColorChooser&quot;,</font>
<font color="green"> 287.                 &quot;tkinter.colorchooser&quot;),</font>
<font color="green"> 288.     MovedModule(&quot;tkinter_commondialog&quot;, &quot;tkCommonDialog&quot;,</font>
<font color="green"> 289.                 &quot;tkinter.commondialog&quot;),</font>
<font color="green"> 290.     MovedModule(&quot;tkinter_tkfiledialog&quot;, &quot;tkFileDialog&quot;, &quot;tkinter.filedialog&quot;),</font>
<font color="green"> 291.     MovedModule(&quot;tkinter_font&quot;, &quot;tkFont&quot;, &quot;tkinter.font&quot;),</font>
<font color="green"> 292.     MovedModule(&quot;tkinter_messagebox&quot;, &quot;tkMessageBox&quot;, &quot;tkinter.messagebox&quot;),</font>
<font color="green"> 293.     MovedModule(&quot;tkinter_tksimpledialog&quot;, &quot;tkSimpleDialog&quot;,</font>
<font color="green"> 294.                 &quot;tkinter.simpledialog&quot;),</font>
<font color="green"> 295.     MovedModule(&quot;urllib_parse&quot;, __name__ + &quot;.moves.urllib_parse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 296.     MovedModule(&quot;urllib_error&quot;, __name__ + &quot;.moves.urllib_error&quot;, &quot;urllib.error&quot;),</font>
<font color="green"> 297.     MovedModule(&quot;urllib&quot;, __name__ + &quot;.moves.urllib&quot;, __name__ + &quot;.moves.urllib&quot;),</font>
<font color="green"> 298.     MovedModule(&quot;urllib_robotparser&quot;, &quot;robotparser&quot;, &quot;urllib.robotparser&quot;),</font>
<font color="green"> 299.     MovedModule(&quot;xmlrpc_client&quot;, &quot;xmlrpclib&quot;, &quot;xmlrpc.client&quot;),</font>
<font color="green"> 300.     MovedModule(&quot;xmlrpc_server&quot;, &quot;SimpleXMLRPCServer&quot;, &quot;xmlrpc.server&quot;),</font>
<font color="black"> 301. ]</font>
<font color="black"> 302. # Add windows specific modules.</font>
<font color="green"> 303. if sys.platform == &quot;win32&quot;:</font>
<font color="red"> 304.     _moved_attributes += [</font>
<font color="red"> 305.         MovedModule(&quot;winreg&quot;, &quot;_winreg&quot;),</font>
<font color="black"> 306.     ]</font>
<font color="black"> 307. </font>
<font color="green"> 308. for attr in _moved_attributes:</font>
<font color="green"> 309.     setattr(_MovedItems, attr.name, attr)</font>
<font color="green"> 310.     if isinstance(attr, MovedModule):</font>
<font color="green"> 311.         _importer._add_module(attr, &quot;moves.&quot; + attr.name)</font>
<font color="green"> 312. del attr</font>
<font color="black"> 313. </font>
<font color="green"> 314. _MovedItems._moved_attributes = _moved_attributes</font>
<font color="black"> 315. </font>
<font color="green"> 316. moves = _MovedItems(__name__ + &quot;.moves&quot;)</font>
<font color="green"> 317. _importer._add_module(moves, &quot;moves&quot;)</font>
<font color="black"> 318. </font>
<font color="black"> 319. </font>
<font color="green"> 320. class Module_six_moves_urllib_parse(_LazyModule):</font>
<font color="black"> 321. </font>
<font color="green"> 322.     &quot;&quot;&quot;Lazy loading of moved objects in six.moves.urllib_parse&quot;&quot;&quot;</font>
<font color="black"> 323. </font>
<font color="black"> 324. </font>
<font color="black"> 325. _urllib_parse_moved_attributes = [</font>
<font color="green"> 326.     MovedAttribute(&quot;ParseResult&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 327.     MovedAttribute(&quot;SplitResult&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 328.     MovedAttribute(&quot;parse_qs&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 329.     MovedAttribute(&quot;parse_qsl&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 330.     MovedAttribute(&quot;urldefrag&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 331.     MovedAttribute(&quot;urljoin&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 332.     MovedAttribute(&quot;urlparse&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 333.     MovedAttribute(&quot;urlsplit&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 334.     MovedAttribute(&quot;urlunparse&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 335.     MovedAttribute(&quot;urlunsplit&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 336.     MovedAttribute(&quot;quote&quot;, &quot;urllib&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 337.     MovedAttribute(&quot;quote_plus&quot;, &quot;urllib&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 338.     MovedAttribute(&quot;unquote&quot;, &quot;urllib&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 339.     MovedAttribute(&quot;unquote_plus&quot;, &quot;urllib&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 340.     MovedAttribute(&quot;urlencode&quot;, &quot;urllib&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 341.     MovedAttribute(&quot;splitquery&quot;, &quot;urllib&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 342.     MovedAttribute(&quot;splittag&quot;, &quot;urllib&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 343.     MovedAttribute(&quot;splituser&quot;, &quot;urllib&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 344.     MovedAttribute(&quot;uses_fragment&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 345.     MovedAttribute(&quot;uses_netloc&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 346.     MovedAttribute(&quot;uses_params&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 347.     MovedAttribute(&quot;uses_query&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="green"> 348.     MovedAttribute(&quot;uses_relative&quot;, &quot;urlparse&quot;, &quot;urllib.parse&quot;),</font>
<font color="black"> 349. ]</font>
<font color="green"> 350. for attr in _urllib_parse_moved_attributes:</font>
<font color="green"> 351.     setattr(Module_six_moves_urllib_parse, attr.name, attr)</font>
<font color="green"> 352. del attr</font>
<font color="black"> 353. </font>
<font color="green"> 354. Module_six_moves_urllib_parse._moved_attributes = _urllib_parse_moved_attributes</font>
<font color="black"> 355. </font>
<font color="green"> 356. _importer._add_module(Module_six_moves_urllib_parse(__name__ + &quot;.moves.urllib_parse&quot;),</font>
<font color="green"> 357.                       &quot;moves.urllib_parse&quot;, &quot;moves.urllib.parse&quot;)</font>
<font color="black"> 358. </font>
<font color="black"> 359. </font>
<font color="green"> 360. class Module_six_moves_urllib_error(_LazyModule):</font>
<font color="black"> 361. </font>
<font color="green"> 362.     &quot;&quot;&quot;Lazy loading of moved objects in six.moves.urllib_error&quot;&quot;&quot;</font>
<font color="black"> 363. </font>
<font color="black"> 364. </font>
<font color="black"> 365. _urllib_error_moved_attributes = [</font>
<font color="green"> 366.     MovedAttribute(&quot;URLError&quot;, &quot;urllib2&quot;, &quot;urllib.error&quot;),</font>
<font color="green"> 367.     MovedAttribute(&quot;HTTPError&quot;, &quot;urllib2&quot;, &quot;urllib.error&quot;),</font>
<font color="green"> 368.     MovedAttribute(&quot;ContentTooShortError&quot;, &quot;urllib&quot;, &quot;urllib.error&quot;),</font>
<font color="black"> 369. ]</font>
<font color="green"> 370. for attr in _urllib_error_moved_attributes:</font>
<font color="green"> 371.     setattr(Module_six_moves_urllib_error, attr.name, attr)</font>
<font color="green"> 372. del attr</font>
<font color="black"> 373. </font>
<font color="green"> 374. Module_six_moves_urllib_error._moved_attributes = _urllib_error_moved_attributes</font>
<font color="black"> 375. </font>
<font color="green"> 376. _importer._add_module(Module_six_moves_urllib_error(__name__ + &quot;.moves.urllib.error&quot;),</font>
<font color="green"> 377.                       &quot;moves.urllib_error&quot;, &quot;moves.urllib.error&quot;)</font>
<font color="black"> 378. </font>
<font color="black"> 379. </font>
<font color="green"> 380. class Module_six_moves_urllib_request(_LazyModule):</font>
<font color="black"> 381. </font>
<font color="green"> 382.     &quot;&quot;&quot;Lazy loading of moved objects in six.moves.urllib_request&quot;&quot;&quot;</font>
<font color="black"> 383. </font>
<font color="black"> 384. </font>
<font color="black"> 385. _urllib_request_moved_attributes = [</font>
<font color="green"> 386.     MovedAttribute(&quot;urlopen&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 387.     MovedAttribute(&quot;install_opener&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 388.     MovedAttribute(&quot;build_opener&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 389.     MovedAttribute(&quot;pathname2url&quot;, &quot;urllib&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 390.     MovedAttribute(&quot;url2pathname&quot;, &quot;urllib&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 391.     MovedAttribute(&quot;getproxies&quot;, &quot;urllib&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 392.     MovedAttribute(&quot;Request&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 393.     MovedAttribute(&quot;OpenerDirector&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 394.     MovedAttribute(&quot;HTTPDefaultErrorHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 395.     MovedAttribute(&quot;HTTPRedirectHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 396.     MovedAttribute(&quot;HTTPCookieProcessor&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 397.     MovedAttribute(&quot;ProxyHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 398.     MovedAttribute(&quot;BaseHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 399.     MovedAttribute(&quot;HTTPPasswordMgr&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 400.     MovedAttribute(&quot;HTTPPasswordMgrWithDefaultRealm&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 401.     MovedAttribute(&quot;AbstractBasicAuthHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 402.     MovedAttribute(&quot;HTTPBasicAuthHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 403.     MovedAttribute(&quot;ProxyBasicAuthHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 404.     MovedAttribute(&quot;AbstractDigestAuthHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 405.     MovedAttribute(&quot;HTTPDigestAuthHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 406.     MovedAttribute(&quot;ProxyDigestAuthHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 407.     MovedAttribute(&quot;HTTPHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 408.     MovedAttribute(&quot;HTTPSHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 409.     MovedAttribute(&quot;FileHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 410.     MovedAttribute(&quot;FTPHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 411.     MovedAttribute(&quot;CacheFTPHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 412.     MovedAttribute(&quot;UnknownHandler&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 413.     MovedAttribute(&quot;HTTPErrorProcessor&quot;, &quot;urllib2&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 414.     MovedAttribute(&quot;urlretrieve&quot;, &quot;urllib&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 415.     MovedAttribute(&quot;urlcleanup&quot;, &quot;urllib&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 416.     MovedAttribute(&quot;URLopener&quot;, &quot;urllib&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 417.     MovedAttribute(&quot;FancyURLopener&quot;, &quot;urllib&quot;, &quot;urllib.request&quot;),</font>
<font color="green"> 418.     MovedAttribute(&quot;proxy_bypass&quot;, &quot;urllib&quot;, &quot;urllib.request&quot;),</font>
<font color="black"> 419. ]</font>
<font color="green"> 420. for attr in _urllib_request_moved_attributes:</font>
<font color="green"> 421.     setattr(Module_six_moves_urllib_request, attr.name, attr)</font>
<font color="green"> 422. del attr</font>
<font color="black"> 423. </font>
<font color="green"> 424. Module_six_moves_urllib_request._moved_attributes = _urllib_request_moved_attributes</font>
<font color="black"> 425. </font>
<font color="green"> 426. _importer._add_module(Module_six_moves_urllib_request(__name__ + &quot;.moves.urllib.request&quot;),</font>
<font color="green"> 427.                       &quot;moves.urllib_request&quot;, &quot;moves.urllib.request&quot;)</font>
<font color="black"> 428. </font>
<font color="black"> 429. </font>
<font color="green"> 430. class Module_six_moves_urllib_response(_LazyModule):</font>
<font color="black"> 431. </font>
<font color="green"> 432.     &quot;&quot;&quot;Lazy loading of moved objects in six.moves.urllib_response&quot;&quot;&quot;</font>
<font color="black"> 433. </font>
<font color="black"> 434. </font>
<font color="black"> 435. _urllib_response_moved_attributes = [</font>
<font color="green"> 436.     MovedAttribute(&quot;addbase&quot;, &quot;urllib&quot;, &quot;urllib.response&quot;),</font>
<font color="green"> 437.     MovedAttribute(&quot;addclosehook&quot;, &quot;urllib&quot;, &quot;urllib.response&quot;),</font>
<font color="green"> 438.     MovedAttribute(&quot;addinfo&quot;, &quot;urllib&quot;, &quot;urllib.response&quot;),</font>
<font color="green"> 439.     MovedAttribute(&quot;addinfourl&quot;, &quot;urllib&quot;, &quot;urllib.response&quot;),</font>
<font color="black"> 440. ]</font>
<font color="green"> 441. for attr in _urllib_response_moved_attributes:</font>
<font color="green"> 442.     setattr(Module_six_moves_urllib_response, attr.name, attr)</font>
<font color="green"> 443. del attr</font>
<font color="black"> 444. </font>
<font color="green"> 445. Module_six_moves_urllib_response._moved_attributes = _urllib_response_moved_attributes</font>
<font color="black"> 446. </font>
<font color="green"> 447. _importer._add_module(Module_six_moves_urllib_response(__name__ + &quot;.moves.urllib.response&quot;),</font>
<font color="green"> 448.                       &quot;moves.urllib_response&quot;, &quot;moves.urllib.response&quot;)</font>
<font color="black"> 449. </font>
<font color="black"> 450. </font>
<font color="green"> 451. class Module_six_moves_urllib_robotparser(_LazyModule):</font>
<font color="black"> 452. </font>
<font color="green"> 453.     &quot;&quot;&quot;Lazy loading of moved objects in six.moves.urllib_robotparser&quot;&quot;&quot;</font>
<font color="black"> 454. </font>
<font color="black"> 455. </font>
<font color="black"> 456. _urllib_robotparser_moved_attributes = [</font>
<font color="green"> 457.     MovedAttribute(&quot;RobotFileParser&quot;, &quot;robotparser&quot;, &quot;urllib.robotparser&quot;),</font>
<font color="black"> 458. ]</font>
<font color="green"> 459. for attr in _urllib_robotparser_moved_attributes:</font>
<font color="green"> 460.     setattr(Module_six_moves_urllib_robotparser, attr.name, attr)</font>
<font color="green"> 461. del attr</font>
<font color="black"> 462. </font>
<font color="green"> 463. Module_six_moves_urllib_robotparser._moved_attributes = _urllib_robotparser_moved_attributes</font>
<font color="black"> 464. </font>
<font color="green"> 465. _importer._add_module(Module_six_moves_urllib_robotparser(__name__ + &quot;.moves.urllib.robotparser&quot;),</font>
<font color="green"> 466.                       &quot;moves.urllib_robotparser&quot;, &quot;moves.urllib.robotparser&quot;)</font>
<font color="black"> 467. </font>
<font color="black"> 468. </font>
<font color="green"> 469. class Module_six_moves_urllib(types.ModuleType):</font>
<font color="black"> 470. </font>
<font color="green"> 471.     &quot;&quot;&quot;Create a six.moves.urllib namespace that resembles the Python 3 namespace&quot;&quot;&quot;</font>
<font color="green"> 472.     __path__ = []  # mark as package</font>
<font color="green"> 473.     parse = _importer._get_module(&quot;moves.urllib_parse&quot;)</font>
<font color="green"> 474.     error = _importer._get_module(&quot;moves.urllib_error&quot;)</font>
<font color="green"> 475.     request = _importer._get_module(&quot;moves.urllib_request&quot;)</font>
<font color="green"> 476.     response = _importer._get_module(&quot;moves.urllib_response&quot;)</font>
<font color="green"> 477.     robotparser = _importer._get_module(&quot;moves.urllib_robotparser&quot;)</font>
<font color="black"> 478. </font>
<font color="green"> 479.     def __dir__(self):</font>
<font color="red"> 480.         return ['parse', 'error', 'request', 'response', 'robotparser']</font>
<font color="black"> 481. </font>
<font color="green"> 482. _importer._add_module(Module_six_moves_urllib(__name__ + &quot;.moves.urllib&quot;),</font>
<font color="green"> 483.                       &quot;moves.urllib&quot;)</font>
<font color="black"> 484. </font>
<font color="black"> 485. </font>
<font color="green"> 486. def add_move(move):</font>
<font color="black"> 487.     &quot;&quot;&quot;Add an item to six.moves.&quot;&quot;&quot;</font>
<font color="red"> 488.     setattr(_MovedItems, move.name, move)</font>
<font color="black"> 489. </font>
<font color="black"> 490. </font>
<font color="green"> 491. def remove_move(name):</font>
<font color="black"> 492.     &quot;&quot;&quot;Remove item from six.moves.&quot;&quot;&quot;</font>
<font color="red"> 493.     try:</font>
<font color="red"> 494.         delattr(_MovedItems, name)</font>
<font color="red"> 495.     except AttributeError:</font>
<font color="red"> 496.         try:</font>
<font color="red"> 497.             del moves.__dict__[name]</font>
<font color="red"> 498.         except KeyError:</font>
<font color="red"> 499.             raise AttributeError(&quot;no such move, %r&quot; % (name,))</font>
<font color="black"> 500. </font>
<font color="black"> 501. </font>
<font color="green"> 502. if PY3:</font>
<font color="red"> 503.     _meth_func = &quot;__func__&quot;</font>
<font color="red"> 504.     _meth_self = &quot;__self__&quot;</font>
<font color="black"> 505. </font>
<font color="red"> 506.     _func_closure = &quot;__closure__&quot;</font>
<font color="red"> 507.     _func_code = &quot;__code__&quot;</font>
<font color="red"> 508.     _func_defaults = &quot;__defaults__&quot;</font>
<font color="red"> 509.     _func_globals = &quot;__globals__&quot;</font>
<font color="black"> 510. else:</font>
<font color="green"> 511.     _meth_func = &quot;im_func&quot;</font>
<font color="green"> 512.     _meth_self = &quot;im_self&quot;</font>
<font color="black"> 513. </font>
<font color="green"> 514.     _func_closure = &quot;func_closure&quot;</font>
<font color="green"> 515.     _func_code = &quot;func_code&quot;</font>
<font color="green"> 516.     _func_defaults = &quot;func_defaults&quot;</font>
<font color="green"> 517.     _func_globals = &quot;func_globals&quot;</font>
<font color="black"> 518. </font>
<font color="black"> 519. </font>
<font color="green"> 520. try:</font>
<font color="green"> 521.     advance_iterator = next</font>
<font color="red"> 522. except NameError:</font>
<font color="red"> 523.     def advance_iterator(it):</font>
<font color="red"> 524.         return it.next()</font>
<font color="green"> 525. next = advance_iterator</font>
<font color="black"> 526. </font>
<font color="black"> 527. </font>
<font color="green"> 528. try:</font>
<font color="green"> 529.     callable = callable</font>
<font color="red"> 530. except NameError:</font>
<font color="red"> 531.     def callable(obj):</font>
<font color="red"> 532.         return any(&quot;__call__&quot; in klass.__dict__ for klass in type(obj).__mro__)</font>
<font color="black"> 533. </font>
<font color="black"> 534. </font>
<font color="green"> 535. if PY3:</font>
<font color="red"> 536.     def get_unbound_function(unbound):</font>
<font color="red"> 537.         return unbound</font>
<font color="black"> 538. </font>
<font color="red"> 539.     create_bound_method = types.MethodType</font>
<font color="black"> 540. </font>
<font color="red"> 541.     def create_unbound_method(func, cls):</font>
<font color="red"> 542.         return func</font>
<font color="black"> 543. </font>
<font color="red"> 544.     Iterator = object</font>
<font color="black"> 545. else:</font>
<font color="green"> 546.     def get_unbound_function(unbound):</font>
<font color="red"> 547.         return unbound.im_func</font>
<font color="black"> 548. </font>
<font color="green"> 549.     def create_bound_method(func, obj):</font>
<font color="red"> 550.         return types.MethodType(func, obj, obj.__class__)</font>
<font color="black"> 551. </font>
<font color="green"> 552.     def create_unbound_method(func, cls):</font>
<font color="red"> 553.         return types.MethodType(func, None, cls)</font>
<font color="black"> 554. </font>
<font color="green"> 555.     class Iterator(object):</font>
<font color="black"> 556. </font>
<font color="green"> 557.         def next(self):</font>
<font color="red"> 558.             return type(self).__next__(self)</font>
<font color="black"> 559. </font>
<font color="green"> 560.     callable = callable</font>
<font color="green"> 561. _add_doc(get_unbound_function,</font>
<font color="green"> 562.          &quot;&quot;&quot;Get the function out of a possibly unbound function&quot;&quot;&quot;)</font>
<font color="black"> 563. </font>
<font color="black"> 564. </font>
<font color="green"> 565. get_method_function = operator.attrgetter(_meth_func)</font>
<font color="green"> 566. get_method_self = operator.attrgetter(_meth_self)</font>
<font color="green"> 567. get_function_closure = operator.attrgetter(_func_closure)</font>
<font color="green"> 568. get_function_code = operator.attrgetter(_func_code)</font>
<font color="green"> 569. get_function_defaults = operator.attrgetter(_func_defaults)</font>
<font color="green"> 570. get_function_globals = operator.attrgetter(_func_globals)</font>
<font color="black"> 571. </font>
<font color="black"> 572. </font>
<font color="green"> 573. if PY3:</font>
<font color="red"> 574.     def iterkeys(d, **kw):</font>
<font color="red"> 575.         return iter(d.keys(**kw))</font>
<font color="black"> 576. </font>
<font color="red"> 577.     def itervalues(d, **kw):</font>
<font color="red"> 578.         return iter(d.values(**kw))</font>
<font color="black"> 579. </font>
<font color="red"> 580.     def iteritems(d, **kw):</font>
<font color="red"> 581.         return iter(d.items(**kw))</font>
<font color="black"> 582. </font>
<font color="red"> 583.     def iterlists(d, **kw):</font>
<font color="red"> 584.         return iter(d.lists(**kw))</font>
<font color="black"> 585. </font>
<font color="red"> 586.     viewkeys = operator.methodcaller(&quot;keys&quot;)</font>
<font color="black"> 587. </font>
<font color="red"> 588.     viewvalues = operator.methodcaller(&quot;values&quot;)</font>
<font color="black"> 589. </font>
<font color="red"> 590.     viewitems = operator.methodcaller(&quot;items&quot;)</font>
<font color="black"> 591. else:</font>
<font color="green"> 592.     def iterkeys(d, **kw):</font>
<font color="red"> 593.         return d.iterkeys(**kw)</font>
<font color="black"> 594. </font>
<font color="green"> 595.     def itervalues(d, **kw):</font>
<font color="red"> 596.         return d.itervalues(**kw)</font>
<font color="black"> 597. </font>
<font color="green"> 598.     def iteritems(d, **kw):</font>
<font color="red"> 599.         return d.iteritems(**kw)</font>
<font color="black"> 600. </font>
<font color="green"> 601.     def iterlists(d, **kw):</font>
<font color="red"> 602.         return d.iterlists(**kw)</font>
<font color="black"> 603. </font>
<font color="green"> 604.     viewkeys = operator.methodcaller(&quot;viewkeys&quot;)</font>
<font color="black"> 605. </font>
<font color="green"> 606.     viewvalues = operator.methodcaller(&quot;viewvalues&quot;)</font>
<font color="black"> 607. </font>
<font color="green"> 608.     viewitems = operator.methodcaller(&quot;viewitems&quot;)</font>
<font color="black"> 609. </font>
<font color="green"> 610. _add_doc(iterkeys, &quot;Return an iterator over the keys of a dictionary.&quot;)</font>
<font color="green"> 611. _add_doc(itervalues, &quot;Return an iterator over the values of a dictionary.&quot;)</font>
<font color="green"> 612. _add_doc(iteritems,</font>
<font color="green"> 613.          &quot;Return an iterator over the (key, value) pairs of a dictionary.&quot;)</font>
<font color="green"> 614. _add_doc(iterlists,</font>
<font color="green"> 615.          &quot;Return an iterator over the (key, [values]) pairs of a dictionary.&quot;)</font>
<font color="black"> 616. </font>
<font color="black"> 617. </font>
<font color="green"> 618. if PY3:</font>
<font color="red"> 619.     def b(s):</font>
<font color="red"> 620.         return s.encode(&quot;latin-1&quot;)</font>
<font color="black"> 621. </font>
<font color="red"> 622.     def u(s):</font>
<font color="red"> 623.         return s</font>
<font color="red"> 624.     unichr = chr</font>
<font color="red"> 625.     import struct</font>
<font color="red"> 626.     int2byte = struct.Struct(&quot;&gt;B&quot;).pack</font>
<font color="red"> 627.     del struct</font>
<font color="red"> 628.     byte2int = operator.itemgetter(0)</font>
<font color="red"> 629.     indexbytes = operator.getitem</font>
<font color="red"> 630.     iterbytes = iter</font>
<font color="red"> 631.     import io</font>
<font color="red"> 632.     StringIO = io.StringIO</font>
<font color="red"> 633.     BytesIO = io.BytesIO</font>
<font color="red"> 634.     _assertCountEqual = &quot;assertCountEqual&quot;</font>
<font color="red"> 635.     if sys.version_info[1] &lt;= 1:</font>
<font color="red"> 636.         _assertRaisesRegex = &quot;assertRaisesRegexp&quot;</font>
<font color="red"> 637.         _assertRegex = &quot;assertRegexpMatches&quot;</font>
<font color="black"> 638.     else:</font>
<font color="red"> 639.         _assertRaisesRegex = &quot;assertRaisesRegex&quot;</font>
<font color="red"> 640.         _assertRegex = &quot;assertRegex&quot;</font>
<font color="black"> 641. else:</font>
<font color="green"> 642.     def b(s):</font>
<font color="red"> 643.         return s</font>
<font color="black"> 644.     # Workaround for standalone backslash</font>
<font color="black"> 645. </font>
<font color="green"> 646.     def u(s):</font>
<font color="red"> 647.         return unicode(s.replace(r'\\', r'\\\\'), &quot;unicode_escape&quot;)</font>
<font color="green"> 648.     unichr = unichr</font>
<font color="green"> 649.     int2byte = chr</font>
<font color="black"> 650. </font>
<font color="green"> 651.     def byte2int(bs):</font>
<font color="red"> 652.         return ord(bs[0])</font>
<font color="black"> 653. </font>
<font color="green"> 654.     def indexbytes(buf, i):</font>
<font color="red"> 655.         return ord(buf[i])</font>
<font color="green"> 656.     iterbytes = functools.partial(itertools.imap, ord)</font>
<font color="green"> 657.     import StringIO</font>
<font color="green"> 658.     StringIO = BytesIO = StringIO.StringIO</font>
<font color="green"> 659.     _assertCountEqual = &quot;assertItemsEqual&quot;</font>
<font color="green"> 660.     _assertRaisesRegex = &quot;assertRaisesRegexp&quot;</font>
<font color="green"> 661.     _assertRegex = &quot;assertRegexpMatches&quot;</font>
<font color="green"> 662. _add_doc(b, &quot;&quot;&quot;Byte literal&quot;&quot;&quot;)</font>
<font color="green"> 663. _add_doc(u, &quot;&quot;&quot;Text literal&quot;&quot;&quot;)</font>
<font color="black"> 664. </font>
<font color="black"> 665. </font>
<font color="green"> 666. def assertCountEqual(self, *args, **kwargs):</font>
<font color="red"> 667.     return getattr(self, _assertCountEqual)(*args, **kwargs)</font>
<font color="black"> 668. </font>
<font color="black"> 669. </font>
<font color="green"> 670. def assertRaisesRegex(self, *args, **kwargs):</font>
<font color="red"> 671.     return getattr(self, _assertRaisesRegex)(*args, **kwargs)</font>
<font color="black"> 672. </font>
<font color="black"> 673. </font>
<font color="green"> 674. def assertRegex(self, *args, **kwargs):</font>
<font color="red"> 675.     return getattr(self, _assertRegex)(*args, **kwargs)</font>
<font color="black"> 676. </font>
<font color="black"> 677. </font>
<font color="green"> 678. if PY3:</font>
<font color="red"> 679.     exec_ = getattr(moves.builtins, &quot;exec&quot;)</font>
<font color="black"> 680. </font>
<font color="red"> 681.     def reraise(tp, value, tb=None):</font>
<font color="red"> 682.         if value is None:</font>
<font color="red"> 683.             value = tp()</font>
<font color="red"> 684.         if value.__traceback__ is not tb:</font>
<font color="red"> 685.             raise value.with_traceback(tb)</font>
<font color="red"> 686.         raise value</font>
<font color="black"> 687. </font>
<font color="black"> 688. else:</font>
<font color="green"> 689.     def exec_(_code_, _globs_=None, _locs_=None):</font>
<font color="black"> 690.         &quot;&quot;&quot;Execute code in a namespace.&quot;&quot;&quot;</font>
<font color="green"> 691.         if _globs_ is None:</font>
<font color="green"> 692.             frame = sys._getframe(1)</font>
<font color="green"> 693.             _globs_ = frame.f_globals</font>
<font color="green"> 694.             if _locs_ is None:</font>
<font color="green"> 695.                 _locs_ = frame.f_locals</font>
<font color="green"> 696.             del frame</font>
<font color="red"> 697.         elif _locs_ is None:</font>
<font color="red"> 698.             _locs_ = _globs_</font>
<font color="green"> 699.         exec(&quot;&quot;&quot;exec _code_ in _globs_, _locs_&quot;&quot;&quot;)</font>
<font color="black"> 700. </font>
<font color="green"> 701.     exec_(&quot;&quot;&quot;def reraise(tp, value, tb=None):</font>
<font color="black"> 702.     raise tp, value, tb</font>
<font color="green"> 703. &quot;&quot;&quot;)</font>
<font color="black"> 704. </font>
<font color="black"> 705. </font>
<font color="green"> 706. if sys.version_info[:2] == (3, 2):</font>
<font color="red"> 707.     exec_(&quot;&quot;&quot;def raise_from(value, from_value):</font>
<font color="black"> 708.     if from_value is None:</font>
<font color="black"> 709.         raise value</font>
<font color="black"> 710.     raise value from from_value</font>
<font color="red"> 711. &quot;&quot;&quot;)</font>
<font color="green"> 712. elif sys.version_info[:2] &gt; (3, 2):</font>
<font color="red"> 713.     exec_(&quot;&quot;&quot;def raise_from(value, from_value):</font>
<font color="black"> 714.     raise value from from_value</font>
<font color="red"> 715. &quot;&quot;&quot;)</font>
<font color="black"> 716. else:</font>
<font color="green"> 717.     def raise_from(value, from_value):</font>
<font color="red"> 718.         raise value</font>
<font color="black"> 719. </font>
<font color="black"> 720. </font>
<font color="green"> 721. print_ = getattr(moves.builtins, &quot;print&quot;, None)</font>
<font color="green"> 722. if print_ is None:</font>
<font color="red"> 723.     def print_(*args, **kwargs):</font>
<font color="black"> 724.         &quot;&quot;&quot;The new-style print function for Python 2.4 and 2.5.&quot;&quot;&quot;</font>
<font color="red"> 725.         fp = kwargs.pop(&quot;file&quot;, sys.stdout)</font>
<font color="red"> 726.         if fp is None:</font>
<font color="red"> 727.             return</font>
<font color="black"> 728. </font>
<font color="red"> 729.         def write(data):</font>
<font color="red"> 730.             if not isinstance(data, basestring):</font>
<font color="red"> 731.                 data = str(data)</font>
<font color="black"> 732.             # If the file has an encoding, encode unicode with it.</font>
<font color="red"> 733.             if (isinstance(fp, file) and</font>
<font color="red"> 734.                     isinstance(data, unicode) and</font>
<font color="red"> 735.                     fp.encoding is not None):</font>
<font color="red"> 736.                 errors = getattr(fp, &quot;errors&quot;, None)</font>
<font color="red"> 737.                 if errors is None:</font>
<font color="red"> 738.                     errors = &quot;strict&quot;</font>
<font color="red"> 739.                 data = data.encode(fp.encoding, errors)</font>
<font color="red"> 740.             fp.write(data)</font>
<font color="red"> 741.         want_unicode = False</font>
<font color="red"> 742.         sep = kwargs.pop(&quot;sep&quot;, None)</font>
<font color="red"> 743.         if sep is not None:</font>
<font color="red"> 744.             if isinstance(sep, unicode):</font>
<font color="red"> 745.                 want_unicode = True</font>
<font color="red"> 746.             elif not isinstance(sep, str):</font>
<font color="red"> 747.                 raise TypeError(&quot;sep must be None or a string&quot;)</font>
<font color="red"> 748.         end = kwargs.pop(&quot;end&quot;, None)</font>
<font color="red"> 749.         if end is not None:</font>
<font color="red"> 750.             if isinstance(end, unicode):</font>
<font color="red"> 751.                 want_unicode = True</font>
<font color="red"> 752.             elif not isinstance(end, str):</font>
<font color="red"> 753.                 raise TypeError(&quot;end must be None or a string&quot;)</font>
<font color="red"> 754.         if kwargs:</font>
<font color="red"> 755.             raise TypeError(&quot;invalid keyword arguments to print()&quot;)</font>
<font color="red"> 756.         if not want_unicode:</font>
<font color="red"> 757.             for arg in args:</font>
<font color="red"> 758.                 if isinstance(arg, unicode):</font>
<font color="red"> 759.                     want_unicode = True</font>
<font color="red"> 760.                     break</font>
<font color="red"> 761.         if want_unicode:</font>
<font color="red"> 762.             newline = unicode(&quot;\n&quot;)</font>
<font color="red"> 763.             space = unicode(&quot; &quot;)</font>
<font color="black"> 764.         else:</font>
<font color="red"> 765.             newline = &quot;\n&quot;</font>
<font color="red"> 766.             space = &quot; &quot;</font>
<font color="red"> 767.         if sep is None:</font>
<font color="red"> 768.             sep = space</font>
<font color="red"> 769.         if end is None:</font>
<font color="red"> 770.             end = newline</font>
<font color="red"> 771.         for i, arg in enumerate(args):</font>
<font color="red"> 772.             if i:</font>
<font color="red"> 773.                 write(sep)</font>
<font color="red"> 774.             write(arg)</font>
<font color="red"> 775.         write(end)</font>
<font color="green"> 776. if sys.version_info[:2] &lt; (3, 3):</font>
<font color="green"> 777.     _print = print_</font>
<font color="black"> 778. </font>
<font color="green"> 779.     def print_(*args, **kwargs):</font>
<font color="red"> 780.         fp = kwargs.get(&quot;file&quot;, sys.stdout)</font>
<font color="red"> 781.         flush = kwargs.pop(&quot;flush&quot;, False)</font>
<font color="red"> 782.         _print(*args, **kwargs)</font>
<font color="red"> 783.         if flush and fp is not None:</font>
<font color="red"> 784.             fp.flush()</font>
<font color="black"> 785. </font>
<font color="green"> 786. _add_doc(reraise, &quot;&quot;&quot;Reraise an exception.&quot;&quot;&quot;)</font>
<font color="black"> 787. </font>
<font color="green"> 788. if sys.version_info[0:2] &lt; (3, 4):</font>
<font color="green"> 789.     def wraps(wrapped, assigned=functools.WRAPPER_ASSIGNMENTS,</font>
<font color="green"> 790.               updated=functools.WRAPPER_UPDATES):</font>
<font color="red"> 791.         def wrapper(f):</font>
<font color="red"> 792.             f = functools.wraps(wrapped, assigned, updated)(f)</font>
<font color="red"> 793.             f.__wrapped__ = wrapped</font>
<font color="red"> 794.             return f</font>
<font color="red"> 795.         return wrapper</font>
<font color="black"> 796. else:</font>
<font color="red"> 797.     wraps = functools.wraps</font>
<font color="black"> 798. </font>
<font color="black"> 799. </font>
<font color="green"> 800. def with_metaclass(meta, *bases):</font>
<font color="black"> 801.     &quot;&quot;&quot;Create a base class with a metaclass.&quot;&quot;&quot;</font>
<font color="black"> 802.     # This requires a bit of explanation: the basic idea is to make a dummy</font>
<font color="black"> 803.     # metaclass for one level of class instantiation that replaces itself with</font>
<font color="black"> 804.     # the actual metaclass.</font>
<font color="red"> 805.     class metaclass(meta):</font>
<font color="black"> 806. </font>
<font color="red"> 807.         def __new__(cls, name, this_bases, d):</font>
<font color="red"> 808.             return meta(name, bases, d)</font>
<font color="red"> 809.     return type.__new__(metaclass, 'temporary_class', (), {})</font>
<font color="black"> 810. </font>
<font color="black"> 811. </font>
<font color="green"> 812. def add_metaclass(metaclass):</font>
<font color="black"> 813.     &quot;&quot;&quot;Class decorator for creating a class with a metaclass.&quot;&quot;&quot;</font>
<font color="red"> 814.     def wrapper(cls):</font>
<font color="red"> 815.         orig_vars = cls.__dict__.copy()</font>
<font color="red"> 816.         slots = orig_vars.get('__slots__')</font>
<font color="red"> 817.         if slots is not None:</font>
<font color="red"> 818.             if isinstance(slots, str):</font>
<font color="red"> 819.                 slots = [slots]</font>
<font color="red"> 820.             for slots_var in slots:</font>
<font color="red"> 821.                 orig_vars.pop(slots_var)</font>
<font color="red"> 822.         orig_vars.pop('__dict__', None)</font>
<font color="red"> 823.         orig_vars.pop('__weakref__', None)</font>
<font color="red"> 824.         return metaclass(cls.__name__, cls.__bases__, orig_vars)</font>
<font color="red"> 825.     return wrapper</font>
<font color="black"> 826. </font>
<font color="black"> 827. </font>
<font color="green"> 828. def python_2_unicode_compatible(klass):</font>
<font color="black"> 829.     &quot;&quot;&quot;</font>
<font color="black"> 830.     A decorator that defines __unicode__ and __str__ methods under Python 2.</font>
<font color="black"> 831.     Under Python 3 it does nothing.</font>
<font color="black"> 832. </font>
<font color="black"> 833.     To support Python 2 and 3 with a single code base, define a __str__ method</font>
<font color="black"> 834.     returning text and apply this decorator to the class.</font>
<font color="black"> 835.     &quot;&quot;&quot;</font>
<font color="red"> 836.     if PY2:</font>
<font color="red"> 837.         if '__str__' not in klass.__dict__:</font>
<font color="red"> 838.             raise ValueError(&quot;@python_2_unicode_compatible cannot be applied &quot;</font>
<font color="black"> 839.                              &quot;to %s because it doesn't define __str__().&quot; %</font>
<font color="red"> 840.                              klass.__name__)</font>
<font color="red"> 841.         klass.__unicode__ = klass.__str__</font>
<font color="red"> 842.         klass.__str__ = lambda self: self.__unicode__().encode('utf-8')</font>
<font color="red"> 843.     return klass</font>
<font color="black"> 844. </font>
<font color="black"> 845. </font>
<font color="black"> 846. # Complete the moves implementation.</font>
<font color="black"> 847. # This code is at the end of this module to speed up module loading.</font>
<font color="black"> 848. # Turn this module into a package.</font>
<font color="green"> 849. __path__ = []  # required for PEP 302 and PEP 451</font>
<font color="green"> 850. __package__ = __name__  # see PEP 366 @ReservedAssignment</font>
<font color="green"> 851. if globals().get(&quot;__spec__&quot;) is not None:</font>
<font color="red"> 852.     __spec__.submodule_search_locations = []  # PEP 451 @UndefinedVariable</font>
<font color="black"> 853. # Remove other six meta path importers, since they cause problems. This can</font>
<font color="black"> 854. # happen if six is removed from sys.modules and then reloaded. (Setuptools does</font>
<font color="black"> 855. # this for some reason.)</font>
<font color="green"> 856. if sys.meta_path:</font>
<font color="green"> 857.     for i, importer in enumerate(sys.meta_path):</font>
<font color="black"> 858.         # Here's some real nastiness: Another &quot;instance&quot; of the six module might</font>
<font color="black"> 859.         # be floating around. Therefore, we can't use isinstance() to check for</font>
<font color="black"> 860.         # the six meta path importer, since the other six instance will have</font>
<font color="black"> 861.         # inserted an importer with different class.</font>
<font color="green"> 862.         if (type(importer).__name__ == &quot;_SixMetaPathImporter&quot; and</font>
<font color="green"> 863.                 importer.name == __name__):</font>
<font color="red"> 864.             del sys.meta_path[i]</font>
<font color="red"> 865.             break</font>
<font color="green"> 866.     del i, importer</font>
<font color="black"> 867. # Finally, add the importer to the meta path import hook.</font>
<font color="green"> 868. sys.meta_path.append(_importer)</font>
</pre>

