source file: <b>/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pyasn1/type/namedval.py</b><br>


file stats: <b>55 lines, 38 executed: 69.1% covered</b>
<pre>
<font color="black">   1. #</font>
<font color="black">   2. # This file is part of pyasn1 software.</font>
<font color="black">   3. #</font>
<font color="black">   4. # Copyright (c) 2005-2017, Ilya Etingof &lt;etingof@gmail.com&gt;</font>
<font color="black">   5. # License: http://pyasn1.sf.net/license.html</font>
<font color="black">   6. #</font>
<font color="black">   7. # ASN.1 named integers</font>
<font color="black">   8. #</font>
<font color="green">   9. from pyasn1 import error</font>
<font color="black">  10. </font>
<font color="green">  11. __all__ = ['NamedValues']</font>
<font color="black">  12. </font>
<font color="black">  13. </font>
<font color="green">  14. class NamedValues(object):</font>
<font color="green">  15.     def __init__(self, *namedValues):</font>
<font color="green">  16.         self.nameToValIdx = {}</font>
<font color="green">  17.         self.valToNameIdx = {}</font>
<font color="green">  18.         self.namedValues = ()</font>
<font color="green">  19.         automaticVal = 1</font>
<font color="green">  20.         for namedValue in namedValues:</font>
<font color="green">  21.             if isinstance(namedValue, tuple):</font>
<font color="green">  22.                 name, val = namedValue</font>
<font color="black">  23.             else:</font>
<font color="red">  24.                 name = namedValue</font>
<font color="red">  25.                 val = automaticVal</font>
<font color="green">  26.             if name in self.nameToValIdx:</font>
<font color="red">  27.                 raise error.PyAsn1Error('Duplicate name %s' % (name,))</font>
<font color="green">  28.             self.nameToValIdx[name] = val</font>
<font color="green">  29.             if val in self.valToNameIdx:</font>
<font color="red">  30.                 raise error.PyAsn1Error('Duplicate value %s=%s' % (name, val))</font>
<font color="green">  31.             self.valToNameIdx[val] = name</font>
<font color="green">  32.             self.namedValues = self.namedValues + ((name, val),)</font>
<font color="green">  33.             automaticVal += 1</font>
<font color="black">  34. </font>
<font color="green">  35.     def __repr__(self):</font>
<font color="red">  36.         return '%s(%s)' % (self.__class__.__name__, ', '.join([repr(x) for x in self.namedValues]))</font>
<font color="black">  37. </font>
<font color="green">  38.     def __str__(self):</font>
<font color="red">  39.         return str(self.namedValues)</font>
<font color="black">  40. </font>
<font color="green">  41.     def __eq__(self, other):</font>
<font color="red">  42.         return tuple(self) == tuple(other)</font>
<font color="black">  43. </font>
<font color="green">  44.     def __ne__(self, other):</font>
<font color="red">  45.         return tuple(self) != tuple(other)</font>
<font color="black">  46. </font>
<font color="green">  47.     def __lt__(self, other):</font>
<font color="red">  48.         return tuple(self) &lt; tuple(other)</font>
<font color="black">  49. </font>
<font color="green">  50.     def __le__(self, other):</font>
<font color="red">  51.         return tuple(self) &lt;= tuple(other)</font>
<font color="black">  52. </font>
<font color="green">  53.     def __gt__(self, other):</font>
<font color="red">  54.         return tuple(self) &gt; tuple(other)</font>
<font color="black">  55. </font>
<font color="green">  56.     def __ge__(self, other):</font>
<font color="red">  57.         return tuple(self) &gt;= tuple(other)</font>
<font color="black">  58. </font>
<font color="green">  59.     def __hash__(self):</font>
<font color="red">  60.         return hash(tuple(self))</font>
<font color="black">  61. </font>
<font color="green">  62.     def getName(self, value):</font>
<font color="red">  63.         if value in self.valToNameIdx:</font>
<font color="red">  64.             return self.valToNameIdx[value]</font>
<font color="black">  65. </font>
<font color="green">  66.     def getValue(self, name):</font>
<font color="green">  67.         if name in self.nameToValIdx:</font>
<font color="green">  68.             return self.nameToValIdx[name]</font>
<font color="black">  69. </font>
<font color="green">  70.     def __getitem__(self, i):</font>
<font color="green">  71.         return self.namedValues[i]</font>
<font color="black">  72. </font>
<font color="green">  73.     def __len__(self):</font>
<font color="green">  74.         return len(self.namedValues)</font>
<font color="black">  75. </font>
<font color="green">  76.     def __add__(self, namedValues):</font>
<font color="red">  77.         return self.__class__(*self.namedValues + namedValues)</font>
<font color="black">  78. </font>
<font color="green">  79.     def __radd__(self, namedValues):</font>
<font color="red">  80.         return self.__class__(*namedValues + tuple(self))</font>
<font color="black">  81. </font>
<font color="green">  82.     def clone(self, *namedValues):</font>
<font color="green">  83.         return self.__class__(*tuple(self) + namedValues)</font>
<font color="black">  84. </font>
<font color="black">  85. # XXX clone/subtype?</font>
</pre>

